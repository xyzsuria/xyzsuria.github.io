<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
  <link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    hostname: new URL('http://yoursite.com').hostname,
    root: '/',
    scheme: 'Pisces',
    version: '7.7.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},
    copycode: {"enable":true,"show_result":true,"style":"mac"},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":true},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    comments: {"style":"tabs","active":"gitalk","storage":true,"lazyload":false,"nav":null,"activeClass":"gitalk"},
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":true,"trigger":"auto","top_n_per_article":5,"unescape":false,"preload":false},
    path: 'search.xml',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}
  };
</script>

  <meta name="description" content="我爱学习">
<meta property="og:type" content="website">
<meta property="og:title" content="Suria_Blog">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Suria_Blog">
<meta property="og:description" content="我爱学习">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Suria">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://yoursite.com/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: true,
    isPost: false
  };
</script>

  <title>Suria_Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

  
  <script type="text/javascript" src="/js/love.js"></script>
  
  <script type="text/javascript" src="/js/j.js"></script>
  <script type="text/javascript" src="/js/j.min.js"></script>
  <script type="text/javascript" src="/js/snow.js"></script>

  <script src="https://g.joyinshare.com/hc/piao.js" type="text/javascript"></script>

<link rel="alternate" href="/atom.xml" title="Suria_Blog" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
    
  <div id="weather-view-he"></div>
  <script type="text/javascript">
    WIDGET = {FID: 'Bij5GrHL3p'}
  </script>
  <script type="text/javascript" src="https://apip.weatherdt.com/float/static/js/r.js?v=1111"></script>
  
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Suria_Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">日拱一卒</p>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="none"
           placeholder="搜索..." spellcheck="false"
           type="text" id="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>

  <a href="https://github.com/xyzsuria/xyzsuria.github.io" class="github-corner" title="xyzsuria GitHub" aria-label="xyzsuria GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2022/05/16/2022-%E5%BC%80%E7%AF%87/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Suria">
      <meta itemprop="description" content="我爱学习">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Suria_Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2022/05/16/2022-%E5%BC%80%E7%AF%87/" class="post-title-link" itemprop="url">2022 开篇</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-05-16 16:41:39 / 修改时间：17:00:46" itemprop="dateCreated datePublished" datetime="2022-05-16T16:41:39+08:00">2022-05-16</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9A%8F%E7%AC%94/" itemprop="url" rel="index">
                    <span itemprop="name">随笔</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>没想到，这个网站是我 20 年的时候建立的，我还是真的特别喜欢折腾，一如既往。</p>
<p>我是一个 Markdown 重度使用患者，本来想着用 Notion 来做笔记，但是Notion 适合于规整很多笔记，但是每篇笔记的结构并不清晰，这点 Typore 做的很好，但是它每篇笔记又很难规整，真是难办。</p>
<p>我查资料的时候看到别人的博客，这样一想我干脆也用博客写算了。</p>
<p>我得记一下基本的 hexo 操作。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2021/06/21/hello-world/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Suria">
      <meta itemprop="description" content="我爱学习">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Suria_Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2021/06/21/hello-world/" class="post-title-link" itemprop="url">Hexo</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-06-21 12:11:34" itemprop="dateCreated datePublished" datetime="2021-06-21T12:11:34+08:00">2021-06-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-05-16 16:47:26" itemprop="dateModified" datetime="2022-05-16T16:47:26+08:00">2022-05-16</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Web/" itemprop="url" rel="index">
                    <span itemprop="name">Web</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank" rel="noopener">Deployment</a></p>
<h3 id="添加文章"><a href="#添加文章" class="headerlink" title="添加文章"></a>添加文章</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new <span class="string">"文章名"</span></span><br></pre></td></tr></table></figure>
<p>显示信息：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 标题 <span class="comment"># 自动创建</span></span><br><span class="line">data: 日期 <span class="comment"># 自动创建</span></span><br><span class="line">tags: </span><br><span class="line">- 标签1</span><br><span class="line">- 标签2</span><br><span class="line">- 标签3</span><br><span class="line">categories:</span><br><span class="line">- 分类1</span><br><span class="line">- 分类2</span><br><span class="line">---</span><br></pre></td></tr></table></figure></p>
<h3 id="在文章中插入图片"><a href="#在文章中插入图片" class="headerlink" title="在文章中插入图片"></a>在文章中插入图片</h3><p><a href="https://blog.csdn.net/Fitz1318/article/details/86548129" target="_blank" rel="noopener">Hexo文章中插入图片</a></p>
<ol>
<li>在站点配置项目 <code>_config,yml</code> 中修改 <code>post_asset_folder: true</code></li>
<li>安装插件：<code>npm install https://github.com/CodeFalling/hexo-asset-image -- save</code></li>
<li>在文章同文件夹下的创建与文章名相同的文件夹，在里面存储图片。</li>
<li>在文中想添加的地方写入 <code>![](图片.图片格式)</code></li>
</ol>
<h3 id="更换风格"><a href="#更换风格" class="headerlink" title="更换风格"></a>更换风格</h3><ol>
<li>首先要进入项目的根目录下下载<br><code>git clone https://github.com/theme-next/hexo-theme-next themes/next</code></li>
<li>修改根目录下的 _config.yml 文件，找到 theme 字段<br><code>theme: next</code></li>
<li>样式修改需要在 themes/next/_config.yml 中修改</li>
</ol>
<h3 id="点击鼠标，显示爱心"><a href="#点击鼠标，显示爱心" class="headerlink" title="点击鼠标，显示爱心"></a>点击鼠标，显示爱心</h3><p><a href="https://blog.csdn.net/qq_36759224/article/details/85420403#font_colorFF00001_font_20" target="_blank" rel="noopener">参考网址</a></p>
<ol>
<li>在 \themes\next\source\js 下新建文件 love.js，在 love.js 文件中添加以下代码：<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">!<span class="function"><span class="keyword">function</span>(<span class="params">e,t,a</span>)</span>&#123;<span class="function"><span class="keyword">function</span> <span class="title">n</span>(<span class="params"></span>)</span>&#123;c(<span class="string">".heart&#123;width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);&#125;.heart:after,.heart:before&#123;content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 500%;-moz-border-radius: 50%;position: fixed;&#125;.heart:after&#123;top: -5px;&#125;.heart:before&#123;left: -5px;&#125;"</span>),o(),r()&#125;<span class="function"><span class="keyword">function</span> <span class="title">r</span>(<span class="params"></span>)</span>&#123;<span class="keyword">for</span>(<span class="keyword">var</span> e=<span class="number">0</span>;e&lt;d.length;e++)d[e].alpha&lt;=<span class="number">0</span>?(t.body.removeChild(d[e].el),d.splice(e,<span class="number">1</span>)):(d[e].y--,d[e].scale+=<span class="number">.004</span>,d[e].alpha-=<span class="number">.013</span>,d[e].el.style.cssText=<span class="string">"left:"</span>+d[e].x+<span class="string">"px;top:"</span>+d[e].y+<span class="string">"px;opacity:"</span>+d[e].alpha+<span class="string">";transform:scale("</span>+d[e].scale+<span class="string">","</span>+d[e].scale+<span class="string">") rotate(45deg);background:"</span>+d[e].color+<span class="string">";z-index:99999"</span>);requestAnimationFrame(r)&#125;<span class="function"><span class="keyword">function</span> <span class="title">o</span>(<span class="params"></span>)</span>&#123;<span class="keyword">var</span> t=<span class="string">"function"</span>==<span class="keyword">typeof</span> e.onclick&amp;&amp;e.onclick;e.onclick=<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;t&amp;&amp;t(),i(e)&#125;&#125;<span class="function"><span class="keyword">function</span> <span class="title">i</span>(<span class="params">e</span>)</span>&#123;<span class="keyword">var</span> a=t.createElement(<span class="string">"div"</span>);a.className=<span class="string">"heart"</span>,d.push(&#123;<span class="attr">el</span>:a,<span class="attr">x</span>:e.clientX<span class="number">-5</span>,<span class="attr">y</span>:e.clientY<span class="number">-5</span>,<span class="attr">scale</span>:<span class="number">1</span>,<span class="attr">alpha</span>:<span class="number">1</span>,<span class="attr">color</span>:s()&#125;),t.body.appendChild(a)&#125;<span class="function"><span class="keyword">function</span> <span class="title">c</span>(<span class="params">e</span>)</span>&#123;<span class="keyword">var</span> a=t.createElement(<span class="string">"style"</span>);a.type=<span class="string">"text/css"</span>;<span class="keyword">try</span>&#123;a.appendChild(t.createTextNode(e))&#125;<span class="keyword">catch</span>(t)&#123;a.styleSheet.cssText=e&#125;t.getElementsByTagName(<span class="string">"head"</span>)[<span class="number">0</span>].appendChild(a)&#125;<span class="function"><span class="keyword">function</span> <span class="title">s</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span><span class="string">"rgb("</span>+~~(<span class="number">255</span>*<span class="built_in">Math</span>.random())+<span class="string">","</span>+~~(<span class="number">255</span>*<span class="built_in">Math</span>.random())+<span class="string">","</span>+~~(<span class="number">255</span>*<span class="built_in">Math</span>.random())+<span class="string">")"</span>&#125;<span class="keyword">var</span> d=[];e.requestAnimationFrame=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;setTimeout(e,<span class="number">1e3</span>/<span class="number">60</span>)&#125;&#125;(),n()&#125;(<span class="built_in">window</span>,<span class="built_in">document</span>);</span><br></pre></td></tr></table></figure></li>
<li>在 \themes\next\layout_layout.swig 文件末尾添加以下代码：<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 页面点击小红心 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/js/love.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/09/20/%E8%AF%AD%E6%96%99%E5%BA%93%E6%90%AD%E5%BB%BA/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Suria">
      <meta itemprop="description" content="我爱学习">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Suria_Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/09/20/%E8%AF%AD%E6%96%99%E5%BA%93%E6%90%AD%E5%BB%BA/" class="post-title-link" itemprop="url">语料库搭建</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-09-20 19:46:21" itemprop="dateCreated datePublished" datetime="2020-09-20T19:46:21+08:00">2020-09-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-05-16 16:54:24" itemprop="dateModified" datetime="2022-05-16T16:54:24+08:00">2022-05-16</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%A1%B9%E7%9B%AE%E5%AE%9E%E8%B7%B5/" itemprop="url" rel="index">
                    <span itemprop="name">项目实践</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="语料库准备"><a href="#语料库准备" class="headerlink" title="语料库准备"></a>语料库准备</h3><h4 id="双语网站有："><a href="#双语网站有：" class="headerlink" title="双语网站有："></a>双语网站有：</h4><ol>
<li><a href="https://language.chinadaily.com.cn/news_bilingual/" target="_blank" rel="noopener">https://language.chinadaily.com.cn/news_bilingual/</a></li>
<li><a href="http://www.china.org.cn/chinese/node_7160004.htm" target="_blank" rel="noopener">http://www.china.org.cn/chinese/node_7160004.htm</a></li>
<li><a href="https://www.fmprc.gov.cn/web/" target="_blank" rel="noopener">https://www.fmprc.gov.cn/web/</a></li>
<li><a href="http://www.kekenet.com/Article/media/economist/" target="_blank" rel="noopener">http://www.kekenet.com/Article/media/economist/</a></li>
</ol>
<h4 id="爬取内容"><a href="#爬取内容" class="headerlink" title="爬取内容"></a>爬取内容</h4><h4 id="双语书目："><a href="#双语书目：" class="headerlink" title="双语书目："></a>双语书目：</h4><p>涉及到已经出版的书本中英文的对照，英译中，中译英版本：</p>
<ol>
<li>英译中书籍：哈利波特</li>
<li>中译英书籍：三体</li>
</ol>
<h3 id="数据库设计"><a href="#数据库设计" class="headerlink" title="数据库设计"></a>数据库设计</h3><h4 id="数据库设计理念"><a href="#数据库设计理念" class="headerlink" title="数据库设计理念"></a>数据库设计理念</h4><ul>
<li><a href="https://www.cnblogs.com/cxyyh/p/11148991.html" target="_blank" rel="noopener">数据库设计</a></li>
<li><p>充分了解需求</p>
<ul>
<li>能够储存大量中英文对应句段和重点单词</li>
<li>能够快速查找单词所在的句子，并且展示</li>
<li>单词的类别能够展示出来<h4 id="7大常用开源数据库利弊全对比"><a href="#7大常用开源数据库利弊全对比" class="headerlink" title="7大常用开源数据库利弊全对比"></a><a href="https://zhuanlan.zhihu.com/p/47471253" target="_blank" rel="noopener">7大常用开源数据库利弊全对比</a></h4></li>
</ul>
</li>
</ul>
<p>总结：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>数据库名称</th>
<th>优点</th>
</tr>
</thead>
<tbody>
<tr>
<td>PostgreSQL, MySQL, Oracle</td>
<td>数据库：存储数据，以便自己或其他应用程序之后能再次找到</td>
</tr>
<tr>
<td>Redis, Memcached</td>
<td>缓存：记住开销昂贵操作的结果，加快读取速度</td>
</tr>
<tr>
<td>ElasticSearch</td>
<td>搜索索引：允许用户按照关键字搜索数据，或以各种方式对数据进行过滤</td>
</tr>
<tr>
<td>Kafka, Flink, Storm</td>
<td>流处理：向其他进程发送消息，进行异步处理</td>
</tr>
<tr>
<td>Hadoop</td>
<td>批处理：定期处理累积的大批量数据</td>
</tr>
</tbody>
</table>
</div>
<h5 id="PostgreSQL"><a href="#PostgreSQL" class="headerlink" title="PostgreSQL"></a>PostgreSQL</h5><div class="table-container">
<table>
<thead>
<tr>
<th>优点</th>
<th>缺点</th>
</tr>
</thead>
<tbody>
<tr>
<td>创建自定义数据类型和查询方式</td>
<td>MVCC系统需要定期“清理”</td>
</tr>
<tr>
<td>框架允许定义和创建自定义数据类型</td>
<td>高交易率环境中的问题</td>
</tr>
<tr>
<td>以十几种编程语言运行存储过程</td>
<td>由强大的社区发展起来</td>
</tr>
<tr>
<td>GiST(广义搜索树)系统</td>
<td>该机需要更大的努力</td>
</tr>
<tr>
<td>提供不同的排序和搜索算法</td>
</tr>
</tbody>
</table>
</div>
<p><a href="https://www.psycopg.org/docs/index.html" target="_blank" rel="noopener">PostgreSQL database adapter for Python</a></p>
<h5 id="MongoDB"><a href="#MongoDB" class="headerlink" title="MongoDB"></a>MongoDB</h5><p>MongoDB是介于关系数据库和非关系数据库之间的产品。他支持的数据结构非常松散，是类似于json的bjson格式，因此可以存储比较复杂的数据类型。</p>
<p>MongoDB最大的特点是它支持的查询语言非常强大，其语法类似于面向对司昂的查询语言。</p>
<ol>
<li><p>安装Mongodb</p>
<ol>
<li><a href="https://www.mongodb.com/dr/fastdl.mongodb.org/windows/mongodb-windows-x86_64-4.4.1-rc2-signed.msi/download" target="_blank" rel="noopener">网址</a></li>
<li><a href="https://www.cnblogs.com/chy18883701161/p/11100560.html" target="_blank" rel="noopener">安装指导</a></li>
<li><a href="https://www.cnblogs.com/chy18883701161/category/1491084.html" target="_blank" rel="noopener">Mongodb介绍</a></li>
</ol>
</li>
<li><p>上手使用</p>
<ol>
<li>在电脑上下载Mongodb,同时<code>pip install pymongodb</code></li>
<li><p>连接mongodb</p>
<ol>
<li>第一种是使用keyword argument(关键字变量)，另一种是MongoDB URI format(URI参数)<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pymongo <span class="keyword">import</span> MongoClient</span><br><span class="line">client = MongoClient()</span><br><span class="line"><span class="comment"># keyword argument</span></span><br><span class="line">client = MongoClient(<span class="string">'localhost'</span>,<span class="number">27017</span>)</span><br><span class="line"><span class="comment"># MongoDB URI</span></span><br><span class="line">client = MongoClient(<span class="string">'mongodb://localhost:27017/'</span>)</span><br></pre></td></tr></table></figure></li>
<li><p>用户密码验证（我没有设置密码）</p>
<ul>
<li><p>设置MongoDB密码</p>
<ul>
<li><a href="https://www.cnblogs.com/zilongmao/p/11428864.html" target="_blank" rel="noopener">手把手教你设置MongoDB密码</a></li>
<li>在mongo.exe中输入的命令<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看所有的数据库</span></span><br><span class="line">show dbs</span><br><span class="line"></span><br><span class="line"><span class="comment"># 进入admin数据库</span></span><br><span class="line">use admi</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建管理员账户</span></span><br><span class="line">db.createUser(&#123; user: <span class="string">"admin"</span>, pwd: <span class="string">"password"</span>, roles: [&#123; role: <span class="string">"userAdminAnyDatabase"</span>, db: <span class="string">"admin"</span> &#125;] &#125;) </span><br><span class="line"><span class="comment"># mongodb中的用户是基于身份role的，该管理员账户的role是 userAdminAnyDatabase。admin用户用于管理账户，不能进行关闭数据库等操作</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建root</span></span><br><span class="line">db.createUser(&#123;user: <span class="string">"root"</span>,pwd: <span class="string">"123456"</span>, roles: [ &#123; role: <span class="string">"root"</span>, db: <span class="string">"admin"</span> &#125; ]&#125;)</span><br><span class="line"><span class="comment"># 创建一个超级管理员root, root角色用于关闭数据库。</span></span><br><span class="line">db.shutdownServer()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建用户自己的数据库管理角色</span></span><br><span class="line">use suriadb</span><br><span class="line">db.createUser(&#123;user: <span class="string">"suria"</span>,pwd: <span class="string">"123456"</span>,roles: [ &#123; role: <span class="string">"dbOwner"</span>, db: <span class="string">"suriadb"</span> &#125; ]&#125;)</span><br><span class="line"><span class="comment"># role: "dbOwner"代表数据库所有者角色，拥有最高该数据库最高权限。比如新建索引等当账号管理员和超级管理员，可以为自己的数据库创建用户了。（坑）这时候一定，一定要切换到所在数据库上去创建用户，不然创建的用户还是属于admin。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看用户</span></span><br><span class="line">show users</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除用户</span></span><br><span class="line"><span class="comment"># 删除用户必须由账号管理员来删除，所以切换到admin角色</span></span><br><span class="line">use admin</span><br><span class="line">db.auth(<span class="string">"admin"</span>,<span class="string">"password"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除单个用户</span></span><br><span class="line">db.system.users.remove(&#123;user:<span class="string">"xxx"</span>&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除所有用户</span></span><br><span class="line">db.system.users.remove(&#123;&#125;)</span><br></pre></td></tr></table></figure>
至此可以使用<code>mongodb://youruser:yourpassword2@localhost/yourdatabase</code>来连接你的mongodb。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">uri = <span class="string">"mongodb://suria:123456@localhost:27017/suriadb"</span></span><br><span class="line">client = MongoClient(uri)</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>基本操作</p>
<ul>
<li><a href="https://github.com/StevenSLXie/Tutorials-for-Web-Developers/blob/master/MongoDB%20%E6%9E%81%E7%AE%80%E5%AE%9E%E8%B7%B5%E5%85%A5%E9%97%A8.md" target="_blank" rel="noopener">MongoDB 极简实践入门</a></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在mongo.exe中</span></span><br><span class="line"><span class="comment"># 展示当前的数据库</span></span><br><span class="line">show dbs</span><br><span class="line"><span class="comment"># 创建或者使用已有的数据库</span></span><br><span class="line">use new</span><br><span class="line"><span class="comment"># 在数据库中添加集合</span></span><br><span class="line">db.createCollection(<span class="string">'dataset'</span>)</span><br><span class="line"><span class="comment"># 展示当前数据库的集合</span></span><br><span class="line">show collections</span><br><span class="line"><span class="comment"># 删除dataset集合</span></span><br><span class="line">db.dataset.drop()</span><br><span class="line"><span class="comment"># 集合（collecion）类似于SQL的表格（table）</span></span><br></pre></td></tr></table></figure>
<p>剩下的操作都讲的非常详细，但是我不知直接在shell里面操作，应该多关注pymongo的包。</p>
</li>
<li><p>pymongo使用</p>
</li>
</ol>
</li>
</ol>
</li>
</ol>
<h4 id="工具学习"><a href="#工具学习" class="headerlink" title="工具学习"></a>工具学习</h4><h5 id="pyhanlp学习"><a href="#pyhanlp学习" class="headerlink" title="pyhanlp学习"></a>pyhanlp学习</h5><ul>
<li><p>安装篇</p>
<ul>
<li><a href="https://blog.csdn.net/sinat_34328764/article/details/89601048" target="_blank" rel="noopener">pyhanlp,HanLP安装与使用</a></li>
</ul>
<ol>
<li>安装Java和Visual C++环境<ol>
<li><a href="https://blog.csdn.net/write6/article/details/79136388" target="_blank" rel="noopener">JDK安装Java环境变量配置</a></li>
<li>根据上面安装还会有些小错误，然后<a href="https://blog.csdn.net/beyond9305/article/details/83211379" target="_blank" rel="noopener">改错</a></li>
</ol>
</li>
<li>安装Jpype<ol>
<li>推荐安装<a href="https://www.anaconda.com/products/individual/get-started" target="_blank" rel="noopener">anacoda</a>环境。<ul>
<li><a href="https://blog.csdn.net/qq_38161040/article/details/87929616" target="_blank" rel="noopener"> error: Microsoft Visual C++ 14.0 is required.</a>  </li>
<li>我选择的是直接安装Microsoft Visual C++ Build Tool 2015.</li>
</ul>
</li>
</ol>
</li>
<li>安装Jpype <code>conda install -c conda-forge jpype1</code></li>
<li>在命令窗口<code>import pyhanlp</code>还会直接下载data.(总之就是过程很麻烦)</li>
<li>最后显示下载的各种零件版本不匹配，实在是崩溃。只能重新安装python，配置环境变量，问题重重。</li>
<li><a href="https://www.cnblogs.com/monozxy/p/11419799.html" target="_blank" rel="noopener">git不是内部或外部命令，也不是可运行的程序</a></li>
</ol>
</li>
<li><p>安装虚拟环境</p>
<ul>
<li><p>感悟：<br>直到现在我才感受到虚拟机的重要性，以及便利。从我开始不停地安装python，报错，改错，卸载，转为anaconda，继而发现问题层出不穷。最关键的是我发现Pycharm中设置编码器竟然没有办法直接安装pyhanlp这个模板包，终于，转战虚拟环境。</p>
<p>其实虚拟环境中，都有python.exe和各种模板包支持各种操作。<br><a href="https://www.cnblogs.com/xuehuiping/p/12323080.html" target="_blank" rel="noopener">安装pyhanlp</a>，我觉得一开始不用git clone。</p>
</li>
<li><p><a href="https://blog.csdn.net/sinat_41898105/article/details/80714974" target="_blank" rel="noopener">Python如何实现虚拟环境的创建</a>，讲的非常详细。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在cmd终端运行</span></span><br><span class="line">pip install virtualenv</span><br><span class="line">pip install virtualenvwrapper-win</span><br><span class="line"><span class="comment"># 配置windows环境变量：新建系统变量，变量名为WORKON_HOME，路径可以自行选择（本人使用路径D:\PythonVirtualenv）</span></span><br><span class="line"><span class="comment"># 查看虚拟环境配置是否成功，打开cmd输入lsvirtualenv，就可以查看虚拟环境所存在的目录</span></span><br></pre></td></tr></table></figure>
<ul>
<li>创建虚拟环境<code>mkvirtualenv test</code>这个虚拟环境名称(test)可以随意起），创建成功后直接进入虚拟环境test</li>
<li>使用命令<code>workon 文件名</code>进行切换虚拟环境。</li>
<li><code>deactivate</code>退出当前虚拟环境</li>
<li><code>rmvirtualenv test</code>删除虚拟环境。</li>
<li><p>到虚拟环境目录下，用<code>activate</code>激活虚拟环境。</p>
<h5 id="前端构建"><a href="#前端构建" class="headerlink" title="前端构建"></a>前端构建</h5><p><a href="https://blog.csdn.net/weixin_34849724/article/details/88813445" target="_blank" rel="noopener">前端ui组件库</a></p>
</li>
<li><p>前端UI</p>
</li>
</ul>
<ol>
<li>认识gulp.js。<ul>
<li>gulp是一个开源JavaScript工具包，用作前端Web开发中的流构建系统，基于Node.js和npm的任务运行器，用于自动化Web开发中涉及的耗时和重复性任务，如缩小，连接，缓存清除，单元测试，linting，优化等。<a href="https://www.leiue.com/what-is-gulp-js" target="_blank" rel="noopener">引用</a> (我还是尝试一下，说实话，还是没理解。)</li>
<li><a href="https://blog.csdn.net/xllily_11/article/details/51320002" target="_blank" rel="noopener">Gulp能做什么，前端装逼为何要用它</a><ol>
<li>JavaScript和CSS属于静态文件，如果地址不变，浏览器会缓存这些文件，那就意味着当我们需要改JavaScript或者CSS文件的时候，即使我们后端改了，那么客户端也是看不到。</li>
<li>解决JavaScript和CSS的在页面中的顺序问题。</li>
<li>性能优化。</li>
</ol>
</li>
<li><a href="https://www.jianshu.com/p/35571124770f" target="_blank" rel="noopener">Gulp.js实践详解__基于Gulp的多页面应用实践指南</a></li>
<li>这个管理工具对我来说还是有点难弄，[<a href="https://github.com/og/gulp-book#readme" target="_blank" rel="noopener">https://github.com/og/gulp-book#readme</a>]</li>
</ul>
</li>
<li><p>开始配置环境了。</p>
<ul>
<li>配置node环境<ul>
<li><a href="https://www.cnblogs.com/li150dan/p/10451772.html" target="_blank" rel="noopener">安装node.js教程</a>，这一篇讲解的非常清晰易懂，跟着一步步安装就行了。</li>
</ul>
</li>
<li><p><a href="https://www.cnblogs.com/xqbiii/p/8406978.html" target="_blank" rel="noopener">安装gulp</a> </p>
<ul>
<li>需要在gulp项目中再单独安装一次gulp，先切换到该目录下，再输入命令<code>npm install gulp</code>。</li>
<li><p>创建gulpfile.js文件在该目录下</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>);</span><br><span class="line">gulp.task(<span class="string">'task1'</span>, done=&gt;&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'hello world'</span>);</span><br><span class="line">      done();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">gulp.task(<span class="string">'task2'</span>, <span class="keyword">async</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      <span class="keyword">await</span> <span class="built_in">console</span>.log(<span class="string">'hello gulp'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// gulp.task('task3', function()&#123;</span></span><br><span class="line"><span class="comment">//       console.log('hello world');</span></span><br><span class="line"><span class="comment">//       done(); // done is not defined.</span></span><br><span class="line"><span class="comment">// &#125;);</span></span><br><span class="line"></span><br><span class="line">gulp.task(<span class="string">'my-task'</span>, gulp.series(<span class="string">"task1"</span>,<span class="string">"task2"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">done</span>)</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">"AB"</span>)</span><br><span class="line">	done()</span><br><span class="line">&#125;))</span><br></pre></td></tr></table></figure>
<p>在命令窗口输入，<code>gulp my-task</code>。</p>
<p><a href="https://blog.csdn.net/WU5229485/article/details/90173693" target="_blank" rel="noopener">参考: gulp报错：The following tasks did not complete: task_name</a> </p>
</li>
</ul>
</li>
</ul>
</li>
</ol>
</li>
</ul>
</li>
</ul>
<h5 id="Fastapi与前端结合"><a href="#Fastapi与前端结合" class="headerlink" title="Fastapi与前端结合"></a>Fastapi与前端结合</h5><h6 id="Fastapi学习"><a href="#Fastapi学习" class="headerlink" title="Fastapi学习"></a>Fastapi学习</h6><ul>
<li>优点：高性能，强壮。</li>
<li>安装<code>pip install fastapi</code>.</li>
</ul>
<p>最小白的代码<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> fastapi <span class="keyword">import</span> FastAPI</span><br><span class="line"></span><br><span class="line">app = FastAPI()</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.get("/")</span></span><br><span class="line"><span class="comment"># async 是一个异步的标志，必须声明。</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="string">"message"</span>: <span class="string">"Helloworld, FastAPI"</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    <span class="keyword">import</span> uvicorn</span><br><span class="line">    uvicorn.run(app, host=<span class="string">"127.0.0.1"</span>, port=<span class="number">8000</span>)</span><br></pre></td></tr></table></figure></p>
<p>各种安装，尝试进一步的功能。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装模板引擎</span></span><br><span class="line">pip install jinja2</span><br><span class="line"><span class="comment"># 提供静态问价</span></span><br><span class="line">pip install aiofiles</span><br></pre></td></tr></table></figure></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> fastapi <span class="keyword">import</span> FastAPI</span><br><span class="line"><span class="keyword">from</span> starlette.requests <span class="keyword">import</span> Request</span><br><span class="line"><span class="keyword">from</span> starlette.templating <span class="keyword">import</span> Jinja2Templates</span><br><span class="line"></span><br><span class="line">app = FastAPI()</span><br><span class="line">templates = Jinja2Templates(directory=<span class="string">"templates"</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.get("/")</span></span><br><span class="line"><span class="comment"># async 是一个异步的标志，必须声明。</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">(request: Request)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> templates.TemplateResponse(<span class="string">'index.html'</span>, &#123;<span class="string">"request"</span>: request, <span class="string">"respond"</span>:<span class="string">"Hi"</span>&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    <span class="keyword">import</span> uvicorn</span><br><span class="line">    uvicorn.run(app, host=<span class="string">"127.0.0.1"</span>, port=<span class="number">8000</span>)</span><br></pre></td></tr></table></figure>
<p>在这个python文件同目录下创建一个文件夹，文件夹名为templates，在该文件夹下新建index.html。<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello Flask<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123;respond&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<ul>
<li><p>输入表格内容</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> starlette.templating <span class="keyword">import</span> Jinja2Templates</span><br><span class="line"><span class="keyword">from</span> fastapi <span class="keyword">import</span> FastAPI, Form</span><br><span class="line"><span class="keyword">from</span> starlette.requests <span class="keyword">import</span> Request</span><br><span class="line"></span><br><span class="line">app = FastAPI()</span><br><span class="line">templates = Jinja2Templates(directory=<span class="string">"templates"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.post("/user/")</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">create_update_files</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">   request: Request,    </span></span></span><br><span class="line"><span class="function"><span class="params">   username: str = Form<span class="params">(...)</span>, </span></span></span><br><span class="line"><span class="function"><span class="params">   password: int = Form<span class="params">(...)</span>,     </span></span></span><br><span class="line"><span class="function"><span class="params">   )</span>:</span></span><br><span class="line">    <span class="comment"># Form函数功能：对HTML页面传入数据进行接收和解析，   找到对应变量</span></span><br><span class="line">    print(<span class="string">"username"</span>,username)</span><br><span class="line">    print(<span class="string">"password"</span>,password)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> templates.TemplateResponse(</span><br><span class="line">       <span class="string">'post.html'</span>,    </span><br><span class="line">       &#123;<span class="string">'request'</span>: request, </span><br><span class="line">       <span class="string">'username'</span>: username,    </span><br><span class="line">       <span class="string">'password'</span>: password&#125;</span><br><span class="line">       )</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.get("/")</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">(request: Request)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> templates.TemplateResponse(</span><br><span class="line">       <span class="string">'post.html'</span>,    </span><br><span class="line">       &#123;<span class="string">'request'</span>: request&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    <span class="keyword">import</span> uvicorn</span><br><span class="line">    uvicorn.run(app, host=<span class="string">"127.0.0.1"</span>, port=<span class="number">8000</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 文件名为post. --&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">title</span>&gt;</span>Post test<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"/user/"</span> <span class="attr">method</span>=<span class="string">"Post"</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">label</span>&gt;</span>username<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">"username"</span> <span class="attr">type</span>=<span class="string">"text"</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">label</span>&gt;</span>password<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">type</span>=<span class="string">"password"</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello Flask<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123; username &#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123; password &#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"></span><br><span class="line"> <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li>上传文件代码<ul>
<li></li>
</ul>
</li>
</ul>
<h3 id="设计思考"><a href="#设计思考" class="headerlink" title="设计思考"></a>设计思考</h3><h4 id="语料库网站对比"><a href="#语料库网站对比" class="headerlink" title="语料库网站对比"></a>语料库网站对比</h4><ol>
<li>了解现有网页语料库</li>
</ol>
<p>根据语料库的特点以及实现的功能来分析。</p>
<ul>
<li>英国当代英语语料库（COCA）<ul>
<li><a href="https://www.english-corpora.org/coca/" target="_blank" rel="noopener">网址</a></li>
<li>介绍：<ul>
<li>目前最大的免费英语语料库。</li>
<li>它由包含5.2亿词的文本构成，这些文本由口语、小说、流行杂志、报纸以及学术文章五种不同的文体构成。</li>
</ul>
</li>
<li>特点：<ul>
<li>展示查找词所在的句子（短），点击可拓展展示一段句子。 </li>
<li>提供单词词频信息。</li>
<li>提供模糊搜索和短语搭配。</li>
<li>分为不同的文体类别。</li>
<li>可以对两个此进行比较，搭配上的对比，比如查找距离这两个词相同距离的单词。</li>
<li>匹配句式（正则）</li>
<li>点击可跳转网页（谷歌翻译）翻译所查单词。</li>
</ul>
</li>
</ul>
</li>
<li>DeepL<ul>
<li><a href="https://www.linguee.com/" target="_blank" rel="noopener">网址</a></li>
<li></li>
</ul>
</li>
</ul>
<p>参考网址：</p>
<p><a href="https://zhuanlan.zhihu.com/p/28838654" target="_blank" rel="noopener">怎样利用COCA语料库提升英语用词水平</a></p>
<h5 id="了解语料库的发展背景"><a href="#了解语料库的发展背景" class="headerlink" title="了解语料库的发展背景"></a>了解语料库的发展背景</h5><p>看相关的论文</p>
<h4 id="实现功能"><a href="#实现功能" class="headerlink" title="实现功能"></a>实现功能</h4><h5 id="基础功能"><a href="#基础功能" class="headerlink" title="基础功能"></a>基础功能</h5><h5 id="拓展功能"><a href="#拓展功能" class="headerlink" title="拓展功能"></a>拓展功能</h5><h3 id="要求"><a href="#要求" class="headerlink" title="要求"></a>要求</h3><ol>
<li>设计出灵活性很高的代码。</li>
</ol>
<div class="table-container">
<table>
<thead>
<tr>
<th>要求</th>
<th>实现接口</th>
<th>返回内容</th>
</tr>
</thead>
<tbody>
<tr>
<td>爬取网页</td>
<td></td>
<td></td>
</tr>
<tr>
<td>中英文对应</td>
<td></td>
<td></td>
</tr>
<tr>
<td>切分句子</td>
<td></td>
<td></td>
</tr>
<tr>
<td>提取关键词</td>
<td></td>
</tr>
</tbody>
</table>
</div>
<ol>
<li>数据库的设计尽量完备，便于修改。<ol>
<li>能够有与json文件或excel表格直接关联的上传覆盖机制</li>
<li>尽量考虑到基本功能，拓展类的就先搁置</li>
</ol>
</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/02/21/%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Suria">
      <meta itemprop="description" content="我爱学习">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Suria_Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/02/21/%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/" class="post-title-link" itemprop="url">内存管理</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-02-21 15:50:17" itemprop="dateCreated datePublished" datetime="2020-02-21T15:50:17+08:00">2020-02-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-05-16 16:45:50" itemprop="dateModified" datetime="2022-05-16T16:45:50+08:00">2022-05-16</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" itemprop="url" rel="index">
                    <span itemprop="name">操作系统</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="内存的基础知识"><a href="#内存的基础知识" class="headerlink" title="内存的基础知识"></a>内存的基础知识</h3><p>内存可存数据。程序执行前<strong>需要先放在内存中才能被CPU处理</strong>——缓和CPU与硬盘之间的速度矛盾。</p>
<p>内存地址从0开始，<strong>每个地址对应一个存储单元</strong>。</p>
<p>如果计算机“<strong>按字节编址</strong>”，则<strong>每个存储单元大小</strong>为<strong>1字节</strong>，即1B，即8个二进制位。</p>
<p>如果<strong>字长为16位</strong>的计算机“<strong>按字编址</strong>”，则<strong>每个存储单元大小</strong>为<strong>1个字</strong>；16个二进制位。</p>
<p><img src="补充知识.PNG" alt="补充知识"></p>
<p>三种策略解决内存装入：</p>
<ol>
<li>绝对装入</li>
<li>可重定向装入（静态重定位）</li>
<li>动态运行时装入（动态重定位）</li>
</ol>
<h4 id="绝对装入"><a href="#绝对装入" class="headerlink" title="绝对装入"></a>绝对装入</h4><p>在编译时，如果知道程序将放到内存中的哪个位置，编译程序将产生地址的目标代码。装入程序按照装入模块中的地址，将程序和数据装入内存。</p>
<p>绝对装入<strong>只适用于单道程序环境</strong>。</p>
<h4 id="可重定位装入"><a href="#可重定位装入" class="headerlink" title="可重定位装入"></a>可重定位装入</h4><p><strong>静态重定位</strong>：又称<strong>可重定位装入</strong>。编译、链接后的装入模块的地址都是从0开始的，指令中使用的地址、数据存放的地址都是相对于起始地址而言的逻辑地址。可根据内存的当前情况，将装入模块装入到内存中的适当位置。装入时对地址进程“<strong>重定位</strong>”，将逻辑地址变换为物理地址（地址变换是在装入时一次完成的）。</p>
<p>静态重定位的特点是在一个作业装入内存时，<strong>必须分配其要求的全部内存空间</strong>，如果没有足够的内存，就不能装入该作业。</p>
<p>作业一旦进入内存后，<strong>在运行期间就不能再移动</strong>，也不能再申请内存空间。</p>
<p>用于早期的多道批处理操作系统。</p>
<h4 id="动态运行时装入"><a href="#动态运行时装入" class="headerlink" title="动态运行时装入"></a>动态运行时装入</h4><p><strong>动态重定位</strong>：又称为<strong>动态运行时装入</strong>。编译、链接后的装入模块的地址都是从0开始的。装入程序把装入模块装入内存中，并不会立即把逻辑地址装换为物理地址，而是<strong>把地址转换推迟到程序真正要执行时才进行</strong>。因此装入内存后所有的地址依然是逻辑地址。这种方式需要一个<strong>重定位寄存器</strong>的支持。</p>
<p>采用动态重定位时<strong>允许程序在内存中发生移动</strong>。</p>
<p><img src="动态重定位.PNG" alt="动态重定位"></p>
<p>需设置重定位寄存器。</p>
<h4 id="从写程序到程序运行"><a href="#从写程序到程序运行" class="headerlink" title="从写程序到程序运行"></a>从写程序到程序运行</h4><p><img src="从写程序到程序运行.PNG" alt="从写程序到程序运行"></p>
<h4 id="链接的三种方式"><a href="#链接的三种方式" class="headerlink" title="链接的三种方式"></a>链接的三种方式</h4><ol>
<li><p><strong>静态链接</strong>：在程序运行之前，先将各目标模块及他们所需的库函数链接称一个完成的可执行文件（装入模块），只有不在拆开。<br><img src="静态链接.PNG" alt="静态链接"></p>
</li>
<li><p><strong>装入时动态链接</strong>：将个目标模块装入内存中，边装入边链接的链接方式。<br><img src="装入时动态链接.PNG" alt="装入时动态链接"></p>
</li>
<li><p><strong>运行时动态链接</strong>：在程序执行中需要该目标模块时，才对它进行链接。其优点是便于修改和更改，便于实现对目标模块的共享。<br><img src="运行时动态链接.PNG" alt="运行时动态链接"></p>
</li>
</ol>
<p><img src="内存的基础知识.png" alt="内存的基础知识.png"></p>
<h3 id="内存管理概念"><a href="#内存管理概念" class="headerlink" title="内存管理概念"></a>内存管理概念</h3><ol>
<li>操作系统负责<strong>内存空间的分配与回收</strong></li>
<li>操作系统需要提供某种技术从逻辑上<strong>对内存空间进行扩充</strong><br>虚拟技术，操作系统的虚拟性</li>
<li>操作系统需要提供地址转换功能，负责程序的<strong>逻辑地址</strong>与<strong>物理地址</strong>的转换（三种装入方式）</li>
<li>保证各进程在自己的内存空间内运行，不会越界。<br>内存保护可采取两种方法：<br>方法一：在CPU中<strong>设置一对上、下限寄存器</strong>，参访进程的上、下限地址。进程的指令要访问某个地址时，CPU检查是否越界。<br>方法二：采用<strong>重定位寄存器</strong>（又称<strong>基址寄存器</strong>）和<strong>界地址寄存器</strong>（又称<strong>限长寄存器</strong>）进行越界检查。重定位寄存器中存放的是进程的<strong>起始物理地址</strong>。界地址寄存器中存放的是进程的<strong>最大逻辑地址</strong>。</li>
</ol>
<h3 id="覆盖与交换"><a href="#覆盖与交换" class="headerlink" title="覆盖与交换"></a>覆盖与交换</h3><p>引入<strong>覆盖技术</strong>，用来<strong>解决“程序大小超过物理内存总和”的问题</strong></p>
<p>覆盖技术的思想：将<strong>程序分为多个段</strong>（多个模块）。常用的段常驻内存，不常用的段在需要时调入内存。</p>
<p>内存中分为<strong>一个“固定区”</strong>和<strong>若干个“覆盖区”</strong>。</p>
<p>需要常驻内存的段放在“<strong>固定区</strong>”中，<strong>调入后就不再调出</strong>（除非运行结束）</p>
<p>不常用的段放在“<strong>覆盖区</strong>”，<strong>需要用时调入内存，用不到时调出内存</strong>。</p>
<h4 id="覆盖技术"><a href="#覆盖技术" class="headerlink" title="覆盖技术"></a>覆盖技术</h4><p><img src="覆盖技术.PNG" alt="覆盖技术"></p>
<p><strong>必须由程序员声明覆盖结构</strong>，操作系统完成自动覆盖。<br><strong>缺点：对用户不透明</strong>，增加了用户编程负担。<br>覆盖技术只用于早期的操作平台，已经退出了历史舞台。</p>
<h4 id="交换技术"><a href="#交换技术" class="headerlink" title="交换技术"></a>交换技术</h4><p> 交换（对换）技术的设计思想：内存空间紧张时，系统将内存中的某些进程暂时<strong>换出</strong>外存，把外存中某些已具备运行条件的进程<strong>换入</strong>内存（进程在内存与磁盘间的动态调度）</p>
<p> 暂时换出外语才能等待的进程状态为<strong>挂起状态（挂起态，suspend）</strong></p>
<p> 挂起态又可以进一步细分为<strong>就绪挂起、阻塞挂起</strong>两种状态。<br> <img src="交换问题.PNG" alt="交换问题"><br>(<strong>注意：PCB会常驻内存</strong>，不会被换出外存。)</p>
<p><img src="覆盖与交换.png" alt="覆盖与交换.png"></p>
<h3 id="连续分配管理方式"><a href="#连续分配管理方式" class="headerlink" title="连续分配管理方式"></a>连续分配管理方式</h3><p><strong>连续分配</strong>：指为用户进程分配的必须是一个<strong>连续的内存空间</strong></p>
<h4 id="单一连续分配"><a href="#单一连续分配" class="headerlink" title="单一连续分配"></a>单一连续分配</h4><p><img src="单一.PNG" alt="单一"></p>
<h4 id="固定分区分配"><a href="#固定分区分配" class="headerlink" title="固定分区分配"></a>固定分区分配</h4><p><img src="固定.PNG" alt="固定"></p>
<p><img src="固定1.PNG" alt="固定1"></p>
<h4 id="动态分区分配"><a href="#动态分区分配" class="headerlink" title="动态分区分配"></a>动态分区分配</h4><p><img src="动态.PNG" alt="动态"></p>
<ol>
<li><img src="两种动态方法.PNG" alt="两种动态方法"></li>
<li>当有很多空闲分区都能满足需求时，应该选择那个分区进行分配？</li>
</ol>
<p>把一个新作业装入内存时，需按照一定的<strong>动态分区分配算法</strong>，把空闲分区表（或空闲分区链）中选出一个分区分配给该作业。</p>
<ol>
<li>如何进行分区的分配与回收操作？<br>（假设系统采用的数据结构是“空闲分区表”……如何分配）<br><img src="问题3.PNG" alt="问题3"></li>
</ol>
<p><img src="问题3_1.PNG" alt="问题3_1"></p>
<p>回收情况1<br>回收区前有一个相邻的空闲分区</p>
<p>情况2<br>回收区后有一个相邻的空闲分区</p>
<p>情况3<br>回收区前后各有一个相邻的空闲分区</p>
<p>合并之前或之后的空闲分区</p>
<p>情况4<br>回收区的前、后都没有相邻的空闲分区<br>新增一个表项</p>
<p>（注：各表项的顺序不一定按照地址递增顺序排列，具体的排列方式需要依据动态分区分配算法来确定。）</p>
<p><strong>动态分区分配</strong>又称为<strong>可变分区分配</strong>。这种分配方式<strong>不会预先划分内存分区</strong>，而是在进程装入内存时，<strong>根据进程的大小动态地建立分区</strong>，并根据分区的大小证号适合进程的需要。因此系统分区的大小和数目是可变的。</p>
<p>动态分区分配<strong>没有内部碎片</strong>，但是<strong>有外部碎片</strong>。<br><strong>内部碎片</strong>，分配给某个进程的内存区域中，如果有些部分没有用上。<br><strong>外部碎片</strong>如果内存中空闲空间的总和本来可以满足某进程的要求，但是由于进程需要的是一整块连续的内存空间，因此这些“碎片”不能满足进程的需求。</p>
<p>可以通过<strong>紧凑（拼凑，Compaction）</strong>技术来解决外部碎片。<br><img src="连续分配管理.png" alt="连续分配管理.png"></p>
<p>另外，需要对管理空闲分区的数据结构有印象——空闲分区表，空闲分区链。</p>
<h3 id="动态分区分配算法"><a href="#动态分区分配算法" class="headerlink" title="动态分区分配算法"></a>动态分区分配算法</h3><h4 id="首次适应算法"><a href="#首次适应算法" class="headerlink" title="首次适应算法"></a>首次适应算法</h4><p><strong>算法思想</strong>：每次都是从低地址开始查找，找到第一个能满足大小的空闲分区。</p>
<p><strong>如何实现：空闲分区以地址递增的次序排列</strong>。每次分配内存时顺序查找<strong>空闲分区链</strong>（或<strong>空闲分区表</strong>），找到代销能满足要求的第一个空闲分区。</p>
<p><img src="首次适应.PNG" alt="首次适应"></p>
<h4 id="最佳适应算法"><a href="#最佳适应算法" class="headerlink" title="最佳适应算法"></a>最佳适应算法</h4><p><strong>算法思想</strong>：由于动态分区分配是是一种连续分配方式，为各进程分配的空间必须是连续的一整片区域。因此为了保证“大进程”到来时能有连续的大片空间，可以尽可能多地留下大片空闲区，即，优先使用更小的空闲区。</p>
<p><strong>如何实现</strong>：空闲分区<strong>按容器递增次序链接</strong>。每次分配内存时顺序查找<strong>空闲分区链</strong>（或<strong>空闲分区表</strong>），找到大小能满足要求的第一个空闲分区。</p>
<p><strong>缺点：每次都选最小的分区进行分配，会留下越来越多的、很小的、难以利用的内存块。因此这种方法会产生很多外部碎片。</strong></p>
<h4 id="最坏适应算法"><a href="#最坏适应算法" class="headerlink" title="最坏适应算法"></a>最坏适应算法</h4><p>又称<strong>最大适应算法（Largest Fit）</strong></p>
<p>为了解决最佳适应算法的问题——即留下太多难以利用的小碎片，可以在每次分配时优先使用最大的连续空闲区，这样分配后圣墟的空闲区就不会太小，很方便使用。</p>
<p>空闲分区<strong>按容量递减次序链接</strong>。每次分配内存时顺序查找<strong>空闲分区链</strong>（或<strong>空闲分区表</strong>），找到大小能满足要求的第一个空闲分区。</p>
<p><strong>缺点：每次都选最大的分区进行分配，虽然可以让范配后留下的空闲区更大，更可用，但这汇总方式会导致较大的连续空闲区被迅速用完。如果之后有“大进程”到达，就没有内存分区可用了</strong>。</p>
<h4 id="邻近适应算法"><a href="#邻近适应算法" class="headerlink" title="邻近适应算法"></a>邻近适应算法</h4><p><img src="邻近适应算法.PNG" alt="邻近适应算法"></p>
<h4 id="回顾"><a href="#回顾" class="headerlink" title="回顾"></a>回顾</h4><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">算法</th>
<th>算法思想</th>
<th>分区排列顺序</th>
<th>优点</th>
<th style="text-align:right">缺点</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">首次适应</td>
<td>从头到尾找适合的分区</td>
<td>空闲分区以地址递增次序排列</td>
<td>综合看性能最好。算法开销小，回收分区后一般不需要对空闲分区队列重新排序</td>
<td style="text-align:right"></td>
</tr>
<tr>
<td style="text-align:left">最佳适应</td>
<td>优先使用最小的分区，以保留更多大分区</td>
<td>空闲分区以容量递增次序排列</td>
<td>会有更多的大分区被保留下来，更能满足大进程需求</td>
<td style="text-align:right">会产生很多太小的、难以利用的碎片；算法开销发，回收分区后可能需要对空闲分区队列重新排序</td>
</tr>
<tr>
<td style="text-align:left">最坏适应</td>
<td>优先使用更大的分区，乙方产生太小的不可用的碎片</td>
<td>空闲分区以容量递减次序排列</td>
<td>可以减少难以利用的小碎片</td>
<td style="text-align:right">大分区容易被用完，不利于大进程；算法开销大</td>
</tr>
<tr>
<td style="text-align:left">邻近适应</td>
<td>由首次适应演变而来，每次从上次查找结束为止开始查找</td>
<td>空闲分区以地址地址递增次序排列（可排列成循环链表）</td>
<td>不用每次都从低地址的小分区开始检索。算法开销小</td>
<td style="text-align:right">会使高地址的大分区也被用完</td>
</tr>
</tbody>
</table>
</div>
<h3 id="基本分页存储管理的基本概念"><a href="#基本分页存储管理的基本概念" class="headerlink" title="基本分页存储管理的基本概念"></a>基本分页存储管理的基本概念</h3><p><strong>连续分配</strong>：为用户进程分配的必须是一个<strong>连续的内存空间</strong>。<br><strong>非连续分配</strong>：为用户进程分配的可以是一些<strong>分散的内存空间</strong>。</p>
<h4 id="什么是分页存储"><a href="#什么是分页存储" class="headerlink" title="什么是分页存储"></a>什么是分页存储</h4><p>将内存空间分为一个个<strong>大小相等的分区</strong>（比如：每个分区4KB），每个分区就是一个“<strong>页框</strong>”（<strong>页框=页帧=内存块=物理块=物理页面</strong>）。每个页框有一个编号，即“<strong>页框号</strong>”（<strong>页框号=页帧号=内存块号=物理块号=物理页号</strong>），页框号<strong>从0开始</strong>。</p>
<p>将<strong>进程的逻辑地址空间</strong>也分为<strong>与页框大小相等</strong>的一个个部分，每个部分称为一个“<strong>页</strong>”或“<strong>页面</strong>”。每个页面也有一个编号，即“<strong>页号</strong>”，页号也是<strong>从0开始</strong>。</p>
<p>操作系统<strong>以页框为单位为各个进程分配</strong>内存空间。进程的每个页面分别放入一个也狂中。也就是说，进程的<strong>页面</strong>与内存的<strong>页框</strong>有<strong>一一对应</strong>的关系。</p>
<p><img src="页.PNG" alt="页"></p>
<h4 id="重要的数据结构——页表"><a href="#重要的数据结构——页表" class="headerlink" title="重要的数据结构——页表"></a>重要的数据结构——页表</h4><p>为了能知道进程的每个页面在内存中存放的位置，操作系统腰围每个进程建立一张<strong>页表</strong>。</p>
<p>注：页表通常存在PCB（进程控制块）中<br><img src="页表.PNG" alt="页表"></p>
<p><img src="页表占字节.PNG" alt="页表占字节"></p>
<p><strong>计算机中内存块的数量——&gt;页表项中块号至少占多少字节</strong></p>
<p><img src="页表项.PNG" alt="页表项"></p>
<p>页表中的<strong>页号</strong>可以是<strong>隐含</strong>的，即<strong>页号不占用存储空间</strong>。</p>
<p><strong>注意：页表记录的只是内存块号，而不是内存块的起始地址！</strong><br><strong>J号内存块的起始地址=J *内存块大小</strong></p>
<h4 id="如何实现地址装换"><a href="#如何实现地址装换" class="headerlink" title="如何实现地址装换"></a>如何实现地址装换</h4><p><img src="实现地址装换.PNG" alt="实现地址装换"></p>
<p><img src="页号计算.PNG" alt="页号计算"></p>
<p><img src="页号页内偏移量计算.PNG" alt="页号页内偏移量计算"></p>
<p><img src="二进制计算.PNG" alt="二进制计算"></p>
<p>在计算机内部，地址是用二进制表示的，如果<strong>页面大小</strong>刚好是<strong>2的整数幂</strong>，则计算机硬件可以很快速的把逻辑地址拆分成页号，页内偏移量。</p>
<p>如何计算：<br><strong>页号</strong>=逻辑地址/页面长度（取除法的<strong>整数</strong>部分）<br><strong>页内偏移量</strong>=逻辑地址%页面长度（取除法的<strong>余数</strong>部分）</p>
<p>总结：页面大小刚好是2的整数次幂有什么好处？</p>
<ol>
<li><p>逻辑地址的拆分更加迅速——如果每个页面的大小为2^kB,用二级制数表示逻辑地址，则<strong>末尾K位</strong>即为<strong>页内偏移量</strong>，其余部分就是<strong>页号</strong>。因此，如果让每个页面的大小为2的整数幂，计算机硬件就可以很方便地得出一个逻辑地址对应的页号和页内偏移量，而无需进行除法运算，从而提升运行速度。</p>
</li>
<li><p>物理地址的计算更加迅速——根据逻辑地址得到页号，根据页号查询页表从而找到哦啊页面存放的内存块号，将二进制表示的内存块号和页内偏移量拼接起来，就可以得到最终的物理地址。</p>
</li>
</ol>
<p><img src="技巧.PNG" alt="技巧"></p>
<p><img src="基本分页存储管理的基本概念.png" alt="基本分页存储管理的基本概念.png"></p>
<h3 id="基本地址变换机构"><a href="#基本地址变换机构" class="headerlink" title="基本地址变换机构"></a>基本地址变换机构</h3><p><strong>重点理解、记忆基本地址变换机构（用于实现逻辑地址到物理地址转换的一组硬件机构）的原理和流程</strong></p>
<p>通常会在系统中设置一个<strong>页表寄存器</strong>（PTR），存放<strong>页表在内存中的起始地址F</strong>和<strong>页表长度M</strong>。进程未执行时，页表的始址和页表长度<strong>放在进程控制块（PCB）中</strong>，当进程被调度时，操作系统内核会把他们放到页表寄存器中。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/02/20/GTD/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Suria">
      <meta itemprop="description" content="我爱学习">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Suria_Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/02/20/GTD/" class="post-title-link" itemprop="url">GTD</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-02-20 22:37:07" itemprop="dateCreated datePublished" datetime="2020-02-20T22:37:07+08:00">2020-02-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-05-16 16:47:19" itemprop="dateModified" datetime="2022-05-16T16:47:19+08:00">2022-05-16</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9A%8F%E7%AC%94/" itemprop="url" rel="index">
                    <span itemprop="name">随笔</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>今天好多学校出了考研成绩，我开始焦虑。感觉时间安排还是不行，到底是为什么。</p>
<p>是执行力太差了吗？</p>
<p>不行，我得找找答案。在网上无意看到了GTD（Getting Things Done）。</p>
<p>这就来了解，记录一下。</p>
<p>GTD的三个步骤：</p>
<ol>
<li>收集<br>大大小小的事情都收集起来，记清楚细节。<br>把所有的任务都暂时档子回收箱里</li>
<li>整理<br>最好是一天的开始就整理清楚<br>分为 <strong>任务清单</strong>、<strong>执行清单</strong>（安排去做）、<strong>可能清单</strong>（当前有想法，但是并没有时间和精力去做的事情）、<strong>等待清单</strong>（不需要我去做，但是有一些任务分配还是要放到执行清单中，比如提醒事项完成程度）还有一个<strong>参考资料</strong>也就是建立自己知识库。</li>
</ol>
<p>同时对执行文档中的事项安排一定的时间，确保自己完成。<br>还要为特别的事情预留足够的事件，我之前就常常因为预留时间不足，明日复明日，明日何其多，把重要的事情都放在了最后。<br>严格执行自己安排的计划，不要总是把简单的事情放在前面做。</p>
<p>在提高效率方面，可以通过食用番茄闹钟</p>
<ol>
<li>回顾<br>回顾整天的执行情况，同时每周也应该有一个回顾。</li>
</ol>
<p>下面这张图是我从B站的Topbook那里看到的，考研过程中繁琐的事情都可以往后排。<br><img src="GTD最终版思维导图.png" alt="GTD"></p>
<p>最后说一下今天2月21日的情况，发小秋丽出成绩了，380分，专业课高达140多，说实话，我当时还挺诧异的。但其实也没什么奇怪的，她大学四年一直在学的就是这个专业，我相对学的内容就很杂。计算机，英语翻译，考证……一路跌跌宕宕。</p>
<p>现在，靳思远的成绩还没告诉我，也不知道是什么情况，难道还没有出成绩吗？</p>
<p>我觉得，考研从准备到上考场，不超过十个月的，能够最大限度地发现自己身上的毛病，抓紧时间矫正。</p>
<p>我向往自由自在的生活，上路了以后，就坚持下去。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/02/13/%E5%AE%89%E8%A3%85%E5%88%9D%E8%AF%95Basemap/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Suria">
      <meta itemprop="description" content="我爱学习">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Suria_Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/02/13/%E5%AE%89%E8%A3%85%E5%88%9D%E8%AF%95Basemap/" class="post-title-link" itemprop="url">安装初试Basemap</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-02-13 20:47:05" itemprop="dateCreated datePublished" datetime="2020-02-13T20:47:05+08:00">2020-02-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-05-16 16:45:07" itemprop="dateModified" datetime="2022-05-16T16:45:07+08:00">2022-05-16</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index">
                    <span itemprop="name">Python</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="初衷"><a href="#初衷" class="headerlink" title="初衷"></a>初衷</h3><p>因为特别想试一下公众号中提及的地图的可视化，觉得地图可视化真炫酷。</p>
<h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p>摆脱不了的安装，公众号里说，basemap是基于matplotlib开发的。</p>
<p>首先<code>pip install matlotlib</code></p>
<p>接着我去搜了搜如何安装 basemap，具体分为三步。</p>
<ol>
<li>安装geos，还是<code>pip install geos</code>。</li>
<li><p>下载两个.whl文件。<strong>要与自己的Python版本匹配</strong>，<a href="https://blog.csdn.net/weixin_42473844/article/details/100172288" target="_blank" rel="noopener">安装指导网址</a></p>
</li>
<li><p>在安装目录下pip两个.whl文件。主线，先是pyproj文件。</p>
</li>
</ol>
<h3 id="尝试"><a href="#尝试" class="headerlink" title="尝试"></a>尝试</h3><p>刚开始就是抄别人的代码（抄公众号代码）</p>
<h4 id="显示世界地图"><a href="#显示世界地图" class="headerlink" title="显示世界地图"></a>显示世界地图</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> mpl_toolkits.basemap <span class="keyword">import</span> Basemap</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt </span><br><span class="line">map = Basemap()</span><br><span class="line"></span><br><span class="line">map.drawcoastlines()</span><br><span class="line">plt.show()</span><br><span class="line">plt.savefig(<span class="string">'map.png'</span>)</span><br><span class="line"><span class="comment"># 但照片上啥也没有</span></span><br></pre></td></tr></table></figure>
<p><img src="map1.PNG" alt="map"></p>
<h4 id="显示球形地图"><a href="#显示球形地图" class="headerlink" title="显示球形地图"></a>显示球形地图</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> mpl_toolkits.basemap <span class="keyword">import</span> Basemap</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt </span><br><span class="line">map = Basemap(projection=<span class="string">'ortho'</span>, lat_0=<span class="number">0</span>,lon_0=<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 给地球涂上蓝色</span></span><br><span class="line">map.drawmapboundary(fill_color=<span class="string">'aqua'</span>)</span><br><span class="line"><span class="comment"># 给国家涂上大地的颜色</span></span><br><span class="line">map.fillcontinents(color=<span class="string">'coral'</span>,lake_color=<span class="string">'aqua'</span>)</span><br><span class="line">map.drawcoastlines()</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p><img src="map2.PNG" alt="map"></p>
<p>意外找到了basemap的文档，哈哈哈，非常好。<br><a href="https://matplotlib.org/basemap/users/geography.html" target="_blank" rel="noopener">文档</a></p>
<p>但是文档中这个例子还是比较鸡肋，找来CSDN中高访问量的操作：<br><a href="https://blog.csdn.net/ouening/article/details/55227364" target="_blank" rel="noopener">Basemap绘制中国地图</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/02/13/%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Suria">
      <meta itemprop="description" content="我爱学习">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Suria_Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/02/13/%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/" class="post-title-link" itemprop="url">进程管理</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-02-13 10:58:25" itemprop="dateCreated datePublished" datetime="2020-02-13T10:58:25+08:00">2020-02-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-05-16 16:45:25" itemprop="dateModified" datetime="2022-05-16T16:45:25+08:00">2022-05-16</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" itemprop="url" rel="index">
                    <span itemprop="name">操作系统</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="进程的概念"><a href="#进程的概念" class="headerlink" title="进程的概念"></a>进程的概念</h3><p>程序：是<strong>静态的</strong>，是存放在磁盘里的可执行文件，是一系列指令集合</p>
<p>进程(Process)：是<strong>动态的</strong>，是程序一次执行过程。</p>
<p>同一个程序的多次执行会对应多个进程。</p>
<p>问题：操作系统是这些进程的管理者，它如何区分各个进程？</p>
<p>当进程被创建时，操作系统会为该进程分配一个<strong>唯一的、不重复的</strong>的“身份证号”——<strong>PID</strong>（Process ID，进程ID）</p>
<h4 id="进程的组成——PCB"><a href="#进程的组成——PCB" class="headerlink" title="进程的组成——PCB"></a>进程的组成——PCB</h4><p>操作系统要：</p>
<ol>
<li>记录PID，进程所属用户ID（UID）-<strong>基本的进程描述信息，可以让操作系统区分各个今晨</strong></li>
<li>还要记录给进程分配了哪些资源（如：分配了多少内存、正在使用哪些I/O设备、正在使用哪些文件）-<strong>可用于实现操作系统对资源的管理</strong></li>
<li>还要记录进程的运行情况（如：CPU使用时间、磁盘使用情况等）-<strong>可用于实现操作系统对进程的控制</strong></li>
</ol>
<p>这些信息都被保存在一个数据结构<strong>PCB</strong>（Process Control Block）中，即<strong>进程控制块</strong>。</p>
<p><img src="PCB.png" alt="PCB"></p>
<p><img src="进程的组成.png" alt="进程的组成"></p>
<p><strong>PCB</strong>是<strong>给操作系统用的</strong>。</p>
<p><strong>程序段、数据段</strong>是给<strong>进程自己用的</strong>。</p>
<p><img src="程序如何运行.PNG" alt="程序如何运行"></p>
<p>一个<strong>进程实体（进程映像）</strong>由<strong>PCB、程序段、数据段</strong>组成。</p>
<p><strong>进程</strong>是<strong>动态</strong>的，<strong>进程实体（进程映像）</strong>是<strong>静态</strong>的。</p>
<p><strong>进程</strong>是进程实体的<strong>运行过程</strong>，是系统进行<strong>资源分配</strong>和<strong>调度</strong>的一个独立单位。</p>
<h4 id="进程的特征"><a href="#进程的特征" class="headerlink" title="进程的特征"></a>进程的特征</h4><p><img src="进程的特征.PNG" alt="进程的特征"></p>
<p><img src="进程小结.PNG" alt="进程小结"></p>
<h3 id="进程的状态与装换"><a href="#进程的状态与装换" class="headerlink" title="进程的状态与装换"></a>进程的状态与装换</h3><h4 id="创建态、就绪态、运行态和终止态"><a href="#创建态、就绪态、运行态和终止态" class="headerlink" title="创建态、就绪态、运行态和终止态"></a>创建态、就绪态、运行态和终止态</h4><p><img src="创建态和就绪态.PNG" alt="创建态和就绪态"></p>
<p><img src="运行态.PNG" alt="运行态"></p>
<p>在进程运行的过程中，可能会<strong>请求等待某个事件的发生</strong>。</p>
<p>在这个事件发生之前，进程无法继续往下执行，此时操作系统让这个进程下CPU，并让它进入“<strong>阻塞态</strong>”。</p>
<p>一个进程可以执行exit系统调用，请求操作系统终止该进程。</p>
<p>此时该进程会进入“<strong>终止态</strong>”，操作系统会让该进程下CPU，并回收内存空间等资源，最后还要回收还进程的PCB。</p>
<p>当终止进程的工作完成后，这个进程就彻底消失了。</p>
<p><img src="状态小结.PNG" alt="状态小结"></p>
<p>注意：<strong>不能由阻塞态直接转换为运行态，也不能就绪态直接转换为阻塞态</strong>。</p>
<p>进程的整个生命周期中，大部分时间都处于三种基本状态中</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">三种基本状态</th>
<th style="text-align:center">解释</th>
<th style="text-align:center">补充</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">运行态(Running)</td>
<td style="text-align:center">占有CPU，并在CPU上运行</td>
<td style="text-align:center">单CPU情况下，同一时刻只有一个进程处于运行态，多核CPU情况下，可能有多个进程处于运行态</td>
</tr>
<tr>
<td style="text-align:center">就绪态(Ready)</td>
<td style="text-align:center">已经具备运行条件，但是由于没有空闲CPU，而暂时不能运行</td>
</tr>
<tr>
<td style="text-align:center">阻塞态(Waiting/Blocked)，又称：等待态</td>
<td style="text-align:center">因等待某一事件而暂时不能运行</td>
</tr>
</tbody>
</table>
</div>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">另外两种状态</th>
<th style="text-align:center">解释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">创建态(New，又称：新建态)</td>
<td style="text-align:center">进程正在被创建，操作系统为进程分配资源，初始化PCB</td>
</tr>
<tr>
<td style="text-align:center">终止态(Terminated，又称：结束态)</td>
<td style="text-align:center">进程正在从系统中撤销，操作系统会回收进程拥有的资源，撤销PCB</td>
</tr>
</tbody>
</table>
</div>
<p>进程PCB中，会有一个变量<strong>state</strong>来表示进程的当前状态。</p>
<h3 id="进程的组织方式"><a href="#进程的组织方式" class="headerlink" title="进程的组织方式"></a>进程的组织方式</h3><h4 id="链接方式"><a href="#链接方式" class="headerlink" title="链接方式"></a>链接方式</h4><p><img src="进程的组织.PNG" alt="进程的组织"></p>
<p>很多操作系统还会根据阻塞原因不同，再分为多个阻塞队列。</p>
<h4 id="索引方式"><a href="#索引方式" class="headerlink" title="索引方式"></a>索引方式</h4><p><img src="索引方式.PNG" alt="索引方式"></p>
<p><img src="进程的组织方式.png" alt="进程的组织方式"></p>
<p><img src="进程的状态与转换.png" alt="进程的状态与转换"> </p>
<h3 id="进程控制"><a href="#进程控制" class="headerlink" title="进程控制"></a>进程控制</h3><p>进程控制的主要功能是对系统中的所有进程实施有效的管理，它具有创建新进程、撤销已有进程、实现进程状态装换等功能。</p>
<p>简化理解：进程控制就是要实现进程状态转换。</p>
<p><img src="进程控制.PNG" alt="进程控制"></p>
<p><strong>原语</strong>是一种特殊的程序，它的<strong>执行具有原子性</strong>。也就是说，这段<strong>程序的运行必须一气呵成，不可中断</strong>。</p>
<p><img src="层次结构.PNG" alt="层次结构"></p>
<p><strong>原语</strong>的执行具有<strong>原子性</strong>，即执行过程只能一气呵成，期间<strong>不允许被中断</strong>。可以</p>
<p>用“<strong>关中断</strong>指令”和“<strong>开中断</strong>指令”这两个<strong>特权指令</strong>实现原子性。</p>
<p>CPU执行了<strong>关中断指令</strong>之后，就不在执行检查中断信号，直到执行<strong>开中断指令</strong>之后才会恢复检查。</p>
<p><img src="进程的创建.png" alt="进程的创建"></p>
<p><img src="进程的终止.png" alt="进程的终止"></p>
<p><img src="进程的阻塞和唤醒.png" alt="进程的阻塞和唤醒"></p>
<p><img src="进程的切换.png" alt="进程的切换"></p>
<p>无论哪个进程控制原语，要做的无非三类事情：</p>
<ol>
<li>更新PCB中的信息<br>修改进程状态（state) 保存/恢复运行状态</li>
<li>将PCB插入合适的队列</li>
<li>分配/回收资源</li>
</ol>
<h3 id="进程通信"><a href="#进程通信" class="headerlink" title="进程通信"></a>进程通信</h3><p>进程通信就是指进程之间的信息交换。</p>
<p>进程是分配系统资源的单位（包括内存地址空间），因此<strong>各进程</strong>拥有<strong>内存地址空间相互独立</strong>。</p>
<p>为了保证安全，<strong>一个进程不能直接访问另一个进程的地址空间</strong>。</p>
<p>但是进程之间的信息交换又是必须实现的，为了保证进程间的安全通信，操作系统提供了：<strong>共享存储、消息传递、管道通信</strong>。</p>
<h4 id="共享存储"><a href="#共享存储" class="headerlink" title="共享存储"></a>共享存储</h4><p>两个进程对共享空间的访问必须是<strong>互斥</strong>的。</p>
<ol>
<li><p><strong>基于数据结构</strong>的共享：比如共享空间只能放长度为10的数组。这种共享方式速度慢、限制多，是一种<strong>低级通信</strong>方式。</p>
</li>
<li><p><strong>基于存储区</strong>的共享：在内存中画一块共享存储区。<strong>高级通信</strong>方式。</p>
</li>
</ol>
<h4 id="管道通信"><a href="#管道通信" class="headerlink" title="管道通信"></a>管道通信</h4><p><img src="管道通信.PNG" alt="管道通信"></p>
<ol>
<li>管道只能采用<strong>半双工通信</strong>，某一时间段内只能实现单向的传输。如果要实现<strong>双向同时通信</strong>，则<strong>需要设置两个管道</strong>。</li>
<li>各进程要<strong>互斥</strong>地访问管道。</li>
<li>数据以字符流的形式写入管道，当<strong>管道写满</strong>时，<strong>写程序</strong>的write()系统调用将被<strong>阻塞</strong>，等待读进程将数据取走。当读进程将数据全部取走时，<strong>管道变空</strong>，此时<strong>读进程</strong>的read()系统将被<strong>阻塞</strong>。</li>
<li>如果<strong>没写满，就不允许读</strong>。如果<strong>没读完，就不允许写</strong>。</li>
<li>数据一旦被读出，就从管道中被抛弃，这就意味着<strong>读进程最多只能有一个</strong>，否则可能会有读错数据的情况。</li>
</ol>
<p><img src="进程通信.png" alt="进程通信"></p>
<h3 id="线程的概念和特点"><a href="#线程的概念和特点" class="headerlink" title="线程的概念和特点"></a>线程的概念和特点</h3><p>进程间并发，开销很大<br>线程间并发，开销很小</p>
<p><strong>引入线程机制后，并发带来的系统开销降低，系统并发性提升</strong>。</p>
<p>注意：从属于不同进程的线程间切换，也会导致进程的切花，开销也大。</p>
<p><img src="线程的优点和特点.PNG" alt="线程的优点和特点"></p>
<p><img src="线程的概念和特点.png" alt="线程的概念和特点"></p>
<h3 id="线程的实现方式（多线程模型）"><a href="#线程的实现方式（多线程模型）" class="headerlink" title="线程的实现方式（多线程模型）"></a>线程的实现方式（多线程模型）</h3><h4 id="用户级线程（User-level-Thread-ULT）"><a href="#用户级线程（User-level-Thread-ULT）" class="headerlink" title="用户级线程（User-level Thread,ULT）"></a>用户级线程（User-level Thread,ULT）</h4><p>历史背景：早期的操作系统只支持进程不支持线程。当时的“线程”是由线程库完成的。</p>
<ol>
<li>用户级线程由应用程序通过线程库实现，所有的<strong>线程管理工作</strong>都由<strong>应用程序负责</strong>（包括线程切换）</li>
<li>用户级线程中，<strong>线程切换</strong>可以在<strong>用户态下完成</strong>，无需操作系统干预。</li>
<li>在用户看来，是有多个线程。但是在操作系统内核看来，并不能意识到线程的存在。<strong>“用户级线程”</strong>就是“<strong>从用户视角看能看到的线程</strong>”。</li>
<li>优缺点：<br>优点：用户级线程的切换在用户空间即可完成，不需要切换到和心态，线程管理系统开销小，效率高。<br>缺点：当一个用户级线程被阻塞后，整个线程都会被堵塞，并发度不高。多个线程无法在多核处理机上并行运行。</li>
</ol>
<h4 id="内核级线程（Kernel-Level-Thread-KLT-又称“内核支持的线程”）"><a href="#内核级线程（Kernel-Level-Thread-KLT-又称“内核支持的线程”）" class="headerlink" title="内核级线程（Kernel-Level Thread, KLT, 又称“内核支持的线程”）"></a>内核级线程（Kernel-Level Thread, KLT, 又称“内核支持的线程”）</h4><p><img src="现成的实现方式.PNG" alt="线程的实现方式"><br>（一对一模型）</p>
<ol>
<li><strong>内核级线程的管理工作</strong>由<strong>操作系统</strong>完成。</li>
<li>线程调度、切换等工作都由内核负责，因此<strong>内核级线程的切换</strong>必然需要在<strong>核心态</strong>下才能完成。</li>
<li>操作系统会为每个内核级新城建立相应的TCB（Thread Control Block，线程控制模块）通过TCB对线程进行管理。“<strong>内核级线程</strong>”就是“<strong>从操作系统内核视角看能看到的线程</strong>”。</li>
<li>优缺点：<br>优点：当一个线程被阻塞后，别的线程还可以继续执行，并发性强。多线程可在多核处理机上并行执行。<br>缺点：一个用户进程会占用多个内核级线程，线程切换由操作系统内核完成，需要从用户态变为和心态，因此线程管理成本高，开销大。</li>
</ol>
<h4 id="多线程模型"><a href="#多线程模型" class="headerlink" title="多线程模型"></a>多线程模型</h4><p>一对一模型<br><img src="多线程.PNG" alt="多线程"><br><strong>多对一</strong>模型：多个用户级线程映射到一个内核级线程。且一个进程只被分配一个内核级线程。</p>
<p>优点：用户级线程切换在用户空间即可完成，不需要切换到核心态，线程管理的西永开销小，效率高。</p>
<p>缺点：当一个用户级线程被阻塞后，震哥哥进程都会被阻塞，并发度不高。多个线程不可再多核处理及上并行运行。</p>
<p><strong>重重重点</strong>：<br>操作系统只“看得见”内核级线程，因为只有<strong>内核级线程才是处理机分配的单位</strong>。</p>
<p><strong>多对多</strong>模型：<br>n用户及线程映射到m个内核级线程（<strong>n&gt;m</strong>）。每个用户进程对应m个内核级线程。<br>克服了多对一模型并发度不高的缺点（一个阻塞全体阻塞），哟克服了一对一模型中一个用户进程占用太多内核级线程，开销太大的缺点。</p>
<p>可以这样理解：<br>用户级线程是“代码逻辑”的载体<br>内核级线程是“运行机会”的载体</p>
<p><strong>内核级线程才是处理及分配的单位</strong>。</p>
<p>一段“代码逻辑”只有获得了“运行机会”才能被CPU执行。</p>
<p><img src="线程.png" alt="线程"></p>
<h3 id="处理机调度概念、层次"><a href="#处理机调度概念、层次" class="headerlink" title="处理机调度概念、层次"></a>处理机调度概念、层次</h3><h4 id="调度的基本概念"><a href="#调度的基本概念" class="headerlink" title="调度的基本概念"></a>调度的基本概念</h4><p>当有一堆任务要处理，但由于资源有限，这些事情没法同时处理。这就需要确定<strong>某种规则</strong>来<strong>决定</strong>处理这些任务的顺序，这就是“调度”研究的问题。</p>
<p>在多道程序中，进程的数量往往是多于处理机的个数的，这样就不可能并行地处理各个进程。</p>
<p><strong>处理机调度</strong>，就是从就绪队列中<strong>按照一定算法选择一个进程</strong>并<strong>将处理机分配给它</strong>运行，已实现进程的并发执行。</p>
<h4 id="调度的三个层次"><a href="#调度的三个层次" class="headerlink" title="调度的三个层次"></a>调度的三个层次</h4><h5 id="高级调度"><a href="#高级调度" class="headerlink" title="高级调度"></a>高级调度</h5><p><img src="gdd.PNG" alt="gdd"><br>由于内存空间有限，有时无法将用户提交的作业全部放入内存，因此就需要确定某种规则来决定将作业调入内存的顺序。</p>
<p><strong>高级调度(作业调度)</strong>。按一定的原则从外存上处于后备队列的作业中挑选一个（或多个）作业，给他们分配内存等必要资源，并<strong>建立相应的进程（建立PCB）</strong>，以使它（们）<strong>获得竞争处理机的权利</strong>。</p>
<p>高级调度是辅存（外存）与内存之间的调度。每个作业只调入一次，调出一次。<strong>作业调入时会建立相应的PCB，作业调出时才撤销PCB</strong>。高级调度主要是指调入的问题，因为只有调入的实际需要操作系统来确定，但调出的时机必然是作业运行结束才调出。</p>
<h5 id="中级调度"><a href="#中级调度" class="headerlink" title="中级调度"></a>中级调度</h5><p>引入了虚拟存储技术之后，可将暂时不能运行的进程调至外存等待。等它重新具备了运行条件且内存稍有空闲时，重新调入内存。</p>
<p>这么做的目的是为了<strong>提高内存利用率</strong>和<strong>系统吞吐量</strong>。</p>
<p>暂时调到外存等待的进程状态为<strong>挂起状态</strong>。值得注意的是，<strong>PCB</strong>并不会一起调到外存，而是<strong>会常驻内存</strong>。PCB中会记录进程数据在外存中的存放位置，进程状态等信息，操作系统通过内存中的PCB来保持对各个进程的监控、管理。被挂起的进程PCB会被放在<strong>挂起队列</strong>中。</p>
<p><strong>中级调度（内存调度）</strong>，就是要决定哪个处于挂起状态的进程重新调入内存。</p>
<p>一个进程可能会被多次调出、调入内存，因此<strong>中级调度</strong>发生的<strong>频率</strong>要比高级调度<strong>更高</strong>。</p>
<p><img src="中级调度.PNG" alt="中级调度"></p>
<h5 id="补充知识：进程的挂起态与七状态模型"><a href="#补充知识：进程的挂起态与七状态模型" class="headerlink" title="补充知识：进程的挂起态与七状态模型"></a>补充知识：进程的挂起态与七状态模型</h5><p>暂时调到外存等待的进程状态为<strong>挂起状态（挂起态suspend）</strong></p>
<p>挂起态又可以进一步细分为<strong>就绪挂起、阻塞挂起</strong>两种状态。</p>
<p>五状态模型——&gt;七状态模型</p>
<p><img src="挂起.PNG" alt="挂起"></p>
<p>注意：“挂起”和“阻塞”的区别，两种状态都是暂时不能获得CPU的服务，但是挂起态是将进程映像调到外存中，而阻塞态下进程映像还在内存中。</p>
<p>有的操作系统会把就绪挂起、阻塞挂起分为两个挂起队列，甚至会根据阻塞原因不同再把阻塞挂起进程进一步分为多个队列。</p>
<h5 id="低级调度"><a href="#低级调度" class="headerlink" title="低级调度"></a>低级调度</h5><p><img src="低级调度.PNG" alt="低级调度"></p>
<p><strong>低级调度(进程调度)</strong>，其主要任务是按照某种方法和策略从就绪队列中选取一个进程，将处理机分配给它。</p>
<p>进程调度室操作系统中<strong>最基本的一种调度</strong>，在一般的操作系统中都必须配置进程调度。<br>进程调度的<strong>频率很高</strong>，一般几十毫秒一次。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left"></th>
<th>要做什么</th>
<th>调度发生在</th>
<th>发生频率</th>
<th style="text-align:right">对进程状态的影响</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">高级调度（作业调度）</td>
<td>按照某种规则，从后备队列中选择合适的作业将其调入内存，并为其创建进程</td>
<td>外存——&gt;内存（面向作业）</td>
<td>最低</td>
<td style="text-align:right">无——&gt;创建态——&gt;就绪态</td>
</tr>
<tr>
<td style="text-align:left">中级调度（内存调度）</td>
<td>按照某种规则，从挂起队列中选择合适的进程将其数据调回内存</td>
<td>外存——&gt;内存（面向过程）</td>
<td>中等</td>
<td style="text-align:right">挂起态——&gt;就绪态（阻塞挂起——&gt;阻塞态）</td>
</tr>
<tr>
<td style="text-align:left">低级调度（进程调度）</td>
<td>按照某种规则，从就绪队列中选择一个进程为其分配处理机</td>
<td>内存——&gt;CPU</td>
<td>最高</td>
<td style="text-align:right">就绪态——&gt;运行态</td>
</tr>
</tbody>
</table>
</div>
<p><img src="处理机调度.png" alt="处理机调度"></p>
<h3 id="进程调度"><a href="#进程调度" class="headerlink" title="进程调度"></a>进程调度</h3><h4 id="进程调度的时机"><a href="#进程调度的时机" class="headerlink" title="进程调度的时机"></a>进程调度的时机</h4><p><img src="进程调度.PNG" alt="进程调度"></p>
<p><strong>不能进行</strong>进程调度与切换的情况：</p>
<ol>
<li>在<strong>处理中断过程中</strong>。中断处理过程复杂，与硬件密切相关，很难做到在中断处理过程中进行进程切换。</li>
<li>进程在<strong>操作系统内核程序临界区</strong>中。</li>
<li>在<strong>原子操作过程中</strong>（原语）。原子操作不可中断。</li>
</ol>
<p>进程在<strong>操作系统内核程序临界区</strong>中<strong>不能</strong>进行调度与切换。<br><strong>内核程序临界区</strong>一般是用来访问<strong>某种内核数据结构</strong>的，比如进程的就绪队列。</p>
<h4 id="进程调度的方式"><a href="#进程调度的方式" class="headerlink" title="进程调度的方式"></a>进程调度的方式</h4><p><strong>非剥夺调度方式</strong>，又称<strong>非抢占方式</strong>。即，只允许进程主动放弃处理机。在运行过程中即使有更紧迫的人物到达，当前进程仍然会继续使用处理机，知道该进程终止或主动要求进入阻塞态。</p>
<p>实现简单，任务开销小但是无法及时处理紧急任务，适合于早期的批处理系统。</p>
<p><strong>剥夺调度方式</strong>，又称<strong>抢占方式</strong>，当一个进程正在处理机上执行时，如果有一个更重要或更紧迫的基础讷航需要使用处理机，则立即暂停正在执行的进程，将处理机分配给更重要紧迫的那个进程。</p>
<p>可以优先处理更紧急的进程，也实现让各及昵称按时间片轮流执行的功能（通过时钟中断），适合于分时操作系统，实时操作系统。</p>
<h4 id="进程的切换与过程"><a href="#进程的切换与过程" class="headerlink" title="进程的切换与过程"></a>进程的切换与过程</h4><p><img src="进程的切换与过程.PNG" alt="进程的切换与过程"></p>
<p><img src="进程调度的…….png" alt="进程调度的……"></p>
<h3 id="调度算法的评价指标"><a href="#调度算法的评价指标" class="headerlink" title="调度算法的评价指标"></a>调度算法的评价指标</h3><h4 id="CPU利用率"><a href="#CPU利用率" class="headerlink" title="CPU利用率"></a>CPU利用率</h4><p>由于早期CPU造价极其昂贵，因此人们会<strong>希望让CPU尽可能多地工作</strong></p>
<p><strong>CPU利用率</strong>：CPU“忙碌”的事件占总时间的比例。</p>
<p><strong>利用率</strong>=忙碌的事件/总时间</p>
<h4 id="系统吞吐量"><a href="#系统吞吐量" class="headerlink" title="系统吞吐量"></a>系统吞吐量</h4><p>对计算机来说，希望能用尽可能少的时间处理尽可能多的作业</p>
<p><strong>系统吞吐量</strong>：单位时间内完成作业的数量</p>
<p><strong>系统吞吐量</strong>=总共完成了多少道作业/总共花了多少时间</p>
<h4 id="周转时间"><a href="#周转时间" class="headerlink" title="周转时间"></a>周转时间</h4><p><strong>周转时间</strong>，是指<strong>作业被提交给系统开始</strong>，到<strong>作业完成为止</strong>的这段时间间隔。</p>
<p>（作业）<strong>周转时间</strong>=作业完成时间-作业提交时间</p>
<p><strong>平均周转时间</strong>=各作业周转时间之和/作业数</p>
<p><strong>带权周转时间</strong> = 作业周转时间/作业时机运行的时间 = （作业完成时间-作业提交时间）/作业实际运行的时间</p>
<p>带权周转时间与周转时间都是越小越好</p>
<p><strong>平均带权周转时间</strong>=各作业的带权周转时间之和/作业数</p>
<h4 id="等待时间"><a href="#等待时间" class="headerlink" title="等待时间"></a>等待时间</h4><p><strong>等待时间</strong>，指进程/作业<strong>处于等待处理机状态时间之和</strong>，等待时间越长，用户满意度越低。</p>
<p>对于<strong>进程</strong>来说，等待时间就是指进程建立后<strong>等待被服务的事件之和</strong>，在等待I/O完成的期间其实进程也是在被服务，所以不计入等待时间。</p>
<p>对于<strong>作业</strong>来说，不仅要考虑<strong>建立进程后的等待时间，还要加上作业在外存后备队列中等待的时间</strong>。</p>
<p><img src="调度算法的评价指标.png" alt="调度算法的评价指标"></p>
<h3 id="调度算法"><a href="#调度算法" class="headerlink" title="调度算法"></a>调度算法</h3><p>Tips:各种调度算法的学习思路</p>
<ol>
<li>算法思想</li>
<li>算法规则</li>
<li>这种调度算法是用于 作业调度 还是 进程调度？</li>
<li>抢占式？ 非抢占式？</li>
<li>优点和缺点</li>
<li>是否会导致<strong>饥饿</strong>（某进程/作业长期得不到服务）</li>
</ol>
<h4 id="先来先服务（FCFS，First-Come-First-Serve）"><a href="#先来先服务（FCFS，First-Come-First-Serve）" class="headerlink" title="先来先服务（FCFS，First Come First Serve）"></a>先来先服务（FCFS，First Come First Serve）</h4><p><img src="FCFS.png" alt="FCFS"></p>
<h4 id="短作业优先（SJF，Shortest-Job-First）"><a href="#短作业优先（SJF，Shortest-Job-First）" class="headerlink" title="短作业优先（SJF，Shortest Job First）"></a>短作业优先（SJF，Shortest Job First）</h4><h5 id="非抢占式的短作业优先调度算法"><a href="#非抢占式的短作业优先调度算法" class="headerlink" title="非抢占式的短作业优先调度算法"></a>非抢占式的短作业优先调度算法</h5><p>应该称为<strong>短进程优先调度算法（SPF）</strong></p>
<p>短作业/进程优先调度算法：每次调度时选择<strong>当前已到达</strong>且<strong>运行时间最短</strong>的作业/进程。</p>
<h5 id="抢占式的短作业优先调度算法"><a href="#抢占式的短作业优先调度算法" class="headerlink" title="抢占式的短作业优先调度算法"></a>抢占式的短作业优先调度算法</h5><p>称为<strong>最短剩余时间优先算法（SRTN）</strong></p>
<p><strong>最短剩余时间优先</strong>算法：每当有进程加入<strong>就绪队列改变时就需要及导读</strong>，如果新到达的进程<strong>剩余时间</strong>比当前运行的进程剩余时间<strong>更短</strong>，则由新进程<strong>抢占</strong>处理机，当前运行进程重新回到就绪队列。另外，当一个<strong>进程完成时也需要调度</strong>。</p>
<p><strong>注意</strong>：</p>
<ol>
<li>如果题目中<strong>未特殊说明</strong>，所提到的“短作业/进程优先算法”<strong>默认</strong>是<strong>非抢占式</strong>的。</li>
</ol>
<p><img src="SJF.png" alt="SJF"></p>
<h4 id="高响应比优先（HRRN-Highest-Response-Ratio-Next）"><a href="#高响应比优先（HRRN-Highest-Response-Ratio-Next）" class="headerlink" title="高响应比优先（HRRN Highest Response Ratio Next）"></a>高响应比优先（HRRN Highest Response Ratio Next）</h4><p><img src="高响应比.PNG" alt="高响应比"></p>
<p><img src="HRRN.png" alt="HRRN"></p>
<p>这几种算法主要关心对用户的公平性、平均周转时间、平均等待时间等评价系统整体性能的指标，但是不关心“响应时间”，也不区分任务的紧急程度，因此对于用户来说，交互性和糟糕。因此这三种算法一般适合用于<strong>早期的批处理系统</strong>。当然FCFS算法也常结合其他的算法使用，在现在也扮演着很重要的角色。</p>
<p><strong>注意做题，常出现在小题计算中</strong></p>
<h4 id="时间片轮转（RR，Round-Robin）"><a href="#时间片轮转（RR，Round-Robin）" class="headerlink" title="时间片轮转（RR，Round-Robin）"></a>时间片轮转（RR，Round-Robin）</h4><p>如果<strong>时间片太大</strong>，使得每个进程都可以在一个时间片内就完成，则时间片轮转调度算法<strong>退化为先来先服务</strong>调度算法，并且会<strong>增大进程响应时间</strong>，因此<strong>时间片不能太大</strong>。</p>
<p>另一方面，进程调度、切换是有时间代价的（保存、恢复运行环境），因此如果<strong>事件片太小</strong>，会导致<strong>进程切换过于频繁</strong>，系统会花大量的时间来处理进程切换。从而导致实际用于进程执行的事件比例减少，可见<strong>时间片也不能太小</strong>。</p>
<p>一般来说，设计时间片时要让切换进程的开销占比不超过1%。</p>
<p><img src="RR.PNG" alt="RR"></p>
<h4 id="优先级调度算法"><a href="#优先级调度算法" class="headerlink" title="优先级调度算法"></a>优先级调度算法</h4><p><img src="优先级调度算法非抢占式.PNG" alt="优先级调度算法非抢占式"></p>
<p><img src="优先级调度算法抢占式.PNG" alt="优先级调度算法抢占式"></p>
<p><img src="补充.PNG" alt="补充"></p>
<p><img src="优先级调度算法.png" alt="优先级调度算法"></p>
<h4 id="多级反馈队列调度算法"><a href="#多级反馈队列调度算法" class="headerlink" title="多级反馈队列调度算法"></a>多级反馈队列调度算法</h4><p>FCFS算法的优点是公平<br>SJF算法的优点是能尽快处理短作业，平均等待/周转时间等参数很优秀<br>时间片轮转算法可以让各个进程得到及时响应<br>优先级调度算法可以灵活地调整各种进程被服务的机会</p>
<p><img src="多级反馈队列调度算法.PNG" alt="多级反馈队列调度算法"></p>
<p><img src="多级反馈队列调度算法1.PNG" alt="多级反馈队列调度算法1"></p>
<p><img src="总结.PNG" alt="总结"></p>
<p><img src="回顾.PNG" alt="回顾"></p>
<p>比起早期的批处理系统来说，由于计算机造价大幅降级，因此之后出现的交互式操作系统（包括分时操作系统、实时操作系统等）更注重系统的响应时间、公平性、平衡性等指标。而这几种算法恰好也能较好地满足交互式系统的需求。因此这三种算法适合用于<strong>交互式系统</strong>（比如UNIX使用的就是多级反馈队列调度算法）</p>
<p><strong>一定要动手做课后习题</strong></p>
<h3 id="进程同步和互斥"><a href="#进程同步和互斥" class="headerlink" title="进程同步和互斥"></a>进程同步和互斥</h3><h4 id="进程同步"><a href="#进程同步" class="headerlink" title="进程同步"></a>进程同步</h4><p>进程具有<strong>异步性</strong>的特征。异步性是指，个并发执行的进程以各自独立、不可预知的速度向前推进。</p>
<p><strong>同步</strong>亦称<strong>直接制约关系</strong>，它是指为完成某种任务而建立的两个或多个进程，这些进城因为需要在某些位置上<strong>协调</strong>它们的<strong>工作次序</strong>而产生的制约关系。进程间的直接制约关系就是源于它们之间的相互合作。</p>
<h4 id="进程互斥"><a href="#进程互斥" class="headerlink" title="进程互斥"></a>进程互斥</h4><p>我们把<strong>一段时间内只允许一个进程使用</strong>的资源称为<strong>临界资源</strong>。许多物理设备（比如摄像头、打印机）都属于临界资源。此外还有很多变量、数据、内存缓冲区都属于临界资源。</p>
<p>对临界资源的访问，必须<strong>互斥</strong>地进程。互斥，亦称<strong>间接制约关系</strong>。**进程互斥指当一个进程访问某临界资源时，另一个想要访问该临界资源的进程必须等待。当前访问临界资源的进程访问结束，释放该临界资源后，另一个进程才会去访问临界资源。</p>
<p><img src="两种共享方式.PNG" alt="两种共享方式"></p>
<p>对临界资源的互斥访问，可以在逻辑上分为以下四个部分：<br><img src="对临界区的访问.PNG" alt="对临界区的访问"></p>
<p>注意：<br><strong>临界区</strong>是进程中<strong>访问临界资源</strong>的代码段。<br><strong>进入区</strong>和<strong>退出区</strong>是<strong>负责实现互斥</strong>的代码段。<br>临界区也可称为“临界段”。</p>
<p><img src="同步、互斥.png" alt="同步、互斥"></p>
<h3 id="进程互斥的软件实现方法"><a href="#进程互斥的软件实现方法" class="headerlink" title="进程互斥的软件实现方法"></a>进程互斥的软件实现方法</h3><p>学习提示：</p>
<ol>
<li>理解各个算法的思想、原理</li>
<li>结合上小节学习的“实现互斥的四种逻辑部分”，重点理解个算法在进入区、退出区都做了什么</li>
<li>分析个算法存在的缺陷（结合“实现互斥要遵循的四种原则”进行分析）</li>
</ol>
<h4 id="单标志法"><a href="#单标志法" class="headerlink" title="单标志法"></a>单标志法</h4><p>算法思想：两个进程在<strong>访问完临界区后</strong>会把使用临界区的权限转交给另一个进程。也就是说<strong>每个进程进入临界区的权限只能被另一个进程赋予</strong><br><img src="单标志法.PNG" alt="单标志法"></p>
<p>该算法<strong>可以实现“同一时刻最多只允许一个进程访问临界区”</strong></p>
<p><strong>单标志法</strong>存在的<strong>主要问题</strong>是：<strong>违背“空闲让进”原则</strong>。</p>
<h4 id="双标志先检查法"><a href="#双标志先检查法" class="headerlink" title="双标志先检查法"></a>双标志先检查法</h4><p>算法思想：设置一个布尔型数组flag[]，数组中各个元素用来<strong>标志各个进程想进入临界区的意愿</strong>。</p>
<p><img src="双标志检查法.PNG" alt="双标志检查法"></p>
<p>双标志先检查法的<strong>主要问题</strong>是：<strong>违反“忙则等待”原则</strong>。<br>原因在于，<strong>进入区的“检查”和“上锁”</strong>两个处理不是一气呵成的。“检查”后，“上锁”前可能发生切换。</p>
<h4 id="双标志后检查法"><a href="#双标志后检查法" class="headerlink" title="双标志后检查法"></a>双标志后检查法</h4><p><img src="后检查.PNG" alt="后检查"></p>
<h4 id="Peterson-算法"><a href="#Peterson-算法" class="headerlink" title="Peterson 算法"></a>Peterson 算法</h4><p>算法思想：结合双标志法、单标志法的思想。如果双方都争着想进入临界区，呢可以让进程尝试“孔融让梨”（谦让）。做一个有礼貌的进程。</p>
<p><img src="Peterson.PNG" alt="Peterson"></p>
<p>Peterson算法用软件方法解决了进程互斥问题，<strong>遵循了空闲让进、忙则等待、有限等待</strong>三个原则，但是仍然<strong>未遵循让权等待</strong>的原则。</p>
<h3 id="进程互斥的硬件实现方法"><a href="#进程互斥的硬件实现方法" class="headerlink" title="进程互斥的硬件实现方法"></a>进程互斥的硬件实现方法</h3><p>学习提示：</p>
<ol>
<li>理解各个方法的原理</li>
<li>了解各个方法的优缺点<h4 id="中断屏蔽方法"><a href="#中断屏蔽方法" class="headerlink" title="中断屏蔽方法"></a>中断屏蔽方法</h4><img src="中断屏蔽方法.PNG" alt="中断屏蔽方法"></li>
</ol>
<p>优点：简单高效<br>缺点：不适用于多处理机：只适用于操作系统内核进程，不适用于用户进程（因为开/关中断指令只能运行在内核态，这组指令如果能让用户随意使用会很危险）</p>
<h4 id="TestAndSet-TS指令-TSL指令"><a href="#TestAndSet-TS指令-TSL指令" class="headerlink" title="TestAndSet(TS指令/TSL指令)"></a>TestAndSet(TS指令/TSL指令)</h4><p><img src="TestAndSet.PNG" alt="TestAndSet"><br>优点：实现简单，无需像软件实现方法那样严格检查是否会有逻辑漏洞；适用于多处理机环境<br>缺点：不满足“让权等待”原则，暂时无法进入临界区的进程会占用CPU并循环执行TSL指令，从而导致“忙等”。</p>
<h4 id="Swap指令-XCHG指令"><a href="#Swap指令-XCHG指令" class="headerlink" title="Swap指令(XCHG指令)"></a>Swap指令(XCHG指令)</h4><p>有的地方也叫做Exchange指令，或简称XCHG指令。<br>Swap指令<strong>是用硬件实现的</strong>，执行的过程不允许被中断，只能一气呵成。以下是用C语言描述的逻辑</p>
<p><img src="Swap指令.PNG" alt="Swap指令"></p>
<p><img src="进程互斥的硬件实现方法.png" alt="进程互斥的硬件实现方法"></p>
<h3 id="信号量机制"><a href="#信号量机制" class="headerlink" title="信号量机制"></a>信号量机制</h3><p>进程互斥的四种软件实现方式（单标执法、双标志先检查法、双标志后检查、Peterson算法）<br>进程互斥的三种软件实现方式（中断屏蔽方法、TS/TSL指令、Swap/XCHG指令）</p>
<ol>
<li>在双标志先检查法中，<strong>进入区的“检查”、“上锁”操作无法一气呵成</strong>，从而导致整个进程有可能同时进入临界区的问题</li>
<li>所有的解决方案都<strong>无法实现“让权等待”</strong>。</li>
</ol>
<p>1965年，荷兰学者Dijkstra提出了一种实现进程互斥、同步的方法——<strong>信号量机制</strong>。</p>
<p>用户进程可以通过使用操作系统提供的<strong>一对原语</strong>来对<strong>信号量</strong>进行操作，从而很方便的实现了进程互斥、进程同步。</p>
<p><strong>信号量</strong>其实就是一个变量<strong>（可以是一个整数，也可以是更复杂的记录性变量），可以用一个信号量来</strong>表示系统中某种资源的数量**，比如：系统中只有一台打印机，就可以设置一个初值为1的信号量。</p>
<p><strong>一对原语</strong>：<strong>wait(S)</strong>原语和<strong>signal(S)</strong>原语，可以把原语理解为我们自己写的函数，函数名分别为wait和signal，括号里的<strong>信号量S</strong>其实就是函数调用时传入的一个参数。</p>
<p>wait、signal原语常简称为<strong>P、V操作</strong>。因此，做题的时候常把wait(S)、siganl(S)两个操作分别写为<strong>P(S)、V(S)</strong>。</p>
<h4 id="整型信号量"><a href="#整型信号量" class="headerlink" title="整型信号量"></a>整型信号量</h4><p><img src="整型信号量.PNG" alt="整型信号量"></p>
<h4 id="记录型信号量"><a href="#记录型信号量" class="headerlink" title="记录型信号量"></a>记录型信号量</h4><p><img src="记录型.PNG" alt="记录型"></p>
<p><img src="信息量机制.PNG" alt="信息量机制"></p>
<p><img src="记录型1.PNG" alt="记录型1"></p>
<p><img src="信号量机制.png" alt="信号量机制"></p>
<p>注：若考试中出现P(S)、V(S)的操作，除非特别说明，否则默认S为记录型信号量。</p>
<h3 id="用信号量机制实现进程互斥、同步、前驱关系"><a href="#用信号量机制实现进程互斥、同步、前驱关系" class="headerlink" title="用信号量机制实现进程互斥、同步、前驱关系"></a>用信号量机制实现进程互斥、同步、前驱关系</h3><p>Tips:不要一头扎进代码里，要注意理解信号量背后的含义，<strong>一个信号量对应一种资源</strong>。</p>
<p>信号量的值=这种资源的剩余数量（信号量的值如果小于0，说明此时有进程在等待这种资源）</p>
<p>P(S)——申请一个资源S，如果<strong>资源不够就阻塞等待</strong><br>V(S)——释放一个资源S，如果有进程在等待该资源，则<strong>唤醒一个进程</strong></p>
<p><img src="信号量机制实现进程互斥.PNG" alt="信号量机制实现进程互斥"></p>
<p><img src="信号量机制实现进程同步.PNG" alt="信号量机制实现进程同步"></p>
<p><img src="实现前驱关系.PNG" alt="实现前驱关系"></p>
<p><img src="信号.png" alt="信号"></p>
<h4 id="生产者消费者问题"><a href="#生产者消费者问题" class="headerlink" title="生产者消费者问题"></a>生产者消费者问题</h4><p><img src="问题分析.PNG" alt="问题分析"></p>
<p><img src="进程同步.PNG" alt="进程同步"></p>
<p><img src="问题分析1.PNG" alt="问题分析1"></p>
<p><img src="总结1.PNG" alt="总结1"></p>
<h4 id="多生产者多消费者问题"><a href="#多生产者多消费者问题" class="headerlink" title="多生产者多消费者问题"></a>多生产者多消费者问题</h4><p><img src="问题分析2.PNG" alt="问题分析2"></p>
<p><img src="如何实现1.PNG" alt="如何实现1"></p>
<p><img src="如何实现2.PNG" alt="如何实现2"></p>
<p>总结：在生产者-消费者问题中，如果缓冲区的大小为1，那么有可能不需要设置互斥信号量就可以实现互斥访问缓冲区的功能。当然这不是绝对的，要具体问题具体分析。</p>
<p><strong>建议</strong>：在考试中如果来不及仔细分析，可以加上互斥信号量，保证各进程一定会互斥地访问缓冲区。但需要注意的是，<strong>实现互斥的P操作一定要在实现同步的P操作之后，否则可能引起“死锁”</strong>。</p>
<p>PV操作题目的解题思路：</p>
<ol>
<li>关系分析。找出题目中描述的各个进程，分析它们之间的同步、互斥关系。</li>
<li>整理思路。根据各进程的操作流程确定P、V操作的大致顺序。</li>
<li>设置信号量。设置需要的信息量，并根据题目条件确定信号量初值。（互斥信号量初值一般为1，同步信号量的初始值要看对应资源的初始值是多少）</li>
</ol>
<p>解决“多生产者-多消费者问题”的关键在于<strong>理清复杂的同步关系</strong>。</p>
<p><img src="多生产者多消费者.PNG" alt="多生产者多消费者"></p>
<h4 id="吸烟者问题"><a href="#吸烟者问题" class="headerlink" title="吸烟者问题"></a>吸烟者问题</h4><p><img src="问题.PNG" alt="问题"></p>
<p><img src="吸烟者问题.PNG" alt="吸烟者问题"></p>
<p>吸烟者问题可以为我们解决“可以生产多个产品的单生产者”问题提供一个思路。</p>
<p>若一个生产者要生产多种产品（或者说会引发多种前驱事件），那么各个V操作应该放在各自对应“事件”发生之后的位置。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/02/12/Reality-Is-Broken/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Suria">
      <meta itemprop="description" content="我爱学习">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Suria_Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/02/12/Reality-Is-Broken/" class="post-title-link" itemprop="url">Reality-Is-Broken</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-02-12 22:18:28" itemprop="dateCreated datePublished" datetime="2020-02-12T22:18:28+08:00">2020-02-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-02-16 12:04:06" itemprop="dateModified" datetime="2020-02-16T12:04:06+08:00">2020-02-16</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%98%85%E8%AF%BB/" itemprop="url" rel="index">
                    <span itemprop="name">阅读</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="生词"><a href="#生词" class="headerlink" title="生词"></a>生词</h3><p><strong>escapist</strong>:逃避现实的</p>
<p><strong>uncanny</strong>:奇怪的，离奇的</p>
<p><strong>snappy</strong>:活泼的，明快的</p>
<p><strong>plutonium</strong>:钚</p>
<p><strong>groundbreaking</strong>:开创性的，创新的</p>
<p><strong>collaborate</strong>:合作</p>
<p><strong>trifling filler</strong>:微不足道的填充物</p>
<p><strong>interstice</strong>: n空隙、裂口</p>
<p><strong>salvation</strong>:n 解救，拯救</p>
<p><strong>atmospheric-level</strong>:大气水平</p>
<p><strong>cataclysm</strong>:(突然降临的)大灾难</p>
<p><strong>exodus</strong>:N-SING 成批离开</p>
<p><strong>tempest</strong>:暴风雨</p>
<h3 id="节选片段"><a href="#节选片段" class="headerlink" title="节选片段"></a>节选片段</h3><ul>
<li><p><em>Reality is Broken</em> is the most eye-opening book I read this year. With awe-inspiring expertise, clarity of thought and engrossing writing style, Jane McGonigal cleanly exploded every misconception I’ve ever had about game and gaming. If you thought that games are for kids, that games are squandered time, or that games are dangerously isolating, additive, unproductive, and <strong>escapist</strong>, you are in for a giant surprise!</p>
</li>
<li><p>Jane McGonigal’s <strong>uncanny</strong> vision and <strong>snappy</strong> writing give all of us a plausible glimpse of a positive humane future, and of how gaming - of all things - will  take us there.</p>
</li>
<li><p>Her insights in <em>Reality Is Broken</em> have the elegant, compact, deadly simplicity of <strong>plutonium</strong> and the same explosive force.</p>
</li>
<li><p>Jane McGonigal’s <strong>groundbreaking</strong> research offers a surprising solution to how we can build stronger communities and <strong>collaborate</strong> at extreme scales: by playing bigger and better games.</p>
</li>
<li><p>It is game that gives us something to do when there is nothing to do. We thus call games “pastimes” and regard them as <strong>trifling fillers</strong> of the <strong>interstices</strong> of our lives. But they are much more important than that. They are clues to the future. And their serious cultivation now is perhaps our only <strong>salvation</strong>.</p>
</li>
</ul>
<ul>
<li>You can’t pull millions of person-hours out of a society without creating an <strong>atmospheric-level</strong> event. If it happens in a generation, I think the twenty-first century will see a social <strong>cataclysm</strong> larger than that caused by cars, radios, and TV, combined…The <strong>exodus</strong> of these people from the real world, from our normal daily life, will create a change in social climate that makes global warming look like a <strong>tempest</strong> in a teacup.</li>
</ul>
<h3 id="生词-1"><a href="#生词-1" class="headerlink" title="生词"></a>生词</h3><p><strong>drove</strong>:n 人群<br><strong>stretch</strong>:n 一段时间<br><strong>nine-to-fiver</strong>:朝九晚五的人<br><strong>underutilize</strong>:未充分利用的<br><strong>raid</strong>:突击、游击<br><strong>quest</strong>:探索、远征<br><strong>multiplayer</strong>:(电子游戏)多玩家的<br><strong>intent</strong>:n意图 adj专心的<br><strong>handheld</strong>:手持型<br><strong>console</strong>:n 安慰、控制台<br><strong>sneak</strong>:溜<br><strong>eliminate</strong>:v 消灭<br><strong>dedicate</strong>:vt 奉献、献身<br><strong>burnish</strong>:v 刷新<br><strong>silo</strong>:发射井<br><strong>cognitive</strong>:adj 认知的<br><strong>lavish</strong>:毫无节制的<br><strong>skyrocketing</strong>:v 猛涨</p>
<h3 id="节选片段-1"><a href="#节选片段-1" class="headerlink" title="节选片段"></a>节选片段</h3><ul>
<li>Gamers have had enough of reality. They are abandoning it in <strong>droves</strong> - a few hours here, an entire weekend there, sometimes every spare minute of every day for <strong>stretches</strong> at a time - in favor of simulated environments and online games.</li>
<li>Who are thry? They are the <strong>nine-to-fivers</strong> who come home and apply all of the smarts and talents that are <strong>underutilized</strong> at work to plan and coordinate complex <strong>raids</strong> and <strong>quests</strong> in massively <strong>multiplayer</strong> online games.</li>
<li>They’re the <em>World of Warcraft</em> fans who are so <strong>intent</strong> on mastering the challenges of their favorite game.</li>
<li>They’re the <em>Brain Age</em> and <em>Mario Kart</em> players who take <strong>handheld</strong> game <strong>consoles</strong> everywhere they go, <strong>sneaking</strong> in short puzzles, races, and minigames as often as possible, and as a result nearly <strong>eliminating</strong> mental downtime from their lives.</li>
<li>They’re the United States tropps stationed overseas who <strong>dedicate</strong> so many hours a week to <strong>burnishing</strong> their Halo<br>in-game service record that earning virtual combat medals is widely known as the most popular activity for off-duty soliers.</li>
<li><p>And we are creating a massive virtual <strong>silo</strong> of <strong>cognitive</strong> effort, emotional energy, and collective attention <strong>lavished</strong> on game worlds instead os on the real world.</p>
</li>
<li><p>The <strong>ever-skyrocketing</strong> amounts of time and money spent on games are being observed with alarm by some - concerned parents, teachers, and politicians.</p>
</li>
</ul>
<h3 id="生词-2"><a href="#生词-2" class="headerlink" title="生词"></a>生词</h3><p><strong>bewilderment</strong>:n 迷茫</p>
<p><strong>disdain</strong>:v&amp;n 鄙视</p>
<p><strong>substantial</strong>:重大的</p>
<p><strong>surreal</strong>:超现实的、离奇的</p>
<p><strong>headlong</strong>:快速的，一头扎进去的</p>
<p><strong>identical</strong>:相同的</p>
<p><strong>scenario</strong>:设想</p>
<p><strong>counterintuitive</strong>:违反直觉的</p>
<p><strong>hindsight</strong>:后见之明</p>
<h3 id="摘抄"><a href="#摘抄" class="headerlink" title="摘抄"></a>摘抄</h3><ul>
<li>Meanwhile, they are met with <strong>bewilderment</strong> and <strong>disdain</strong> by more than a few nongamers, who still make up nearly half of the U.S, population, although their numbers are rapidly decreasing. Many of them deem gaming a clear waste of time.</li>
<li>And unless something dramatic happens to reverse the resulting exodus, we’re fast on our way to becoming a society in which a <strong>substantial</strong> portion of our population devotes its greatest efforts to playing games, creates its best memories in game environments, and experiences its biggest successes in game worlds.</li>
<li>To a nongamer, this forecast might seem <strong>surreal</strong>, or like science fiction. Are huge <strong>swaths</strong> of civilization really disappearing into game worlds? Are we really rushing <strong>headlong</strong> into a future where the majority of us use games to satisfy many of our most important needs?</li>
<li>Indeed, the very first written history of human gameplay, Herodotus’ Histories, the ancient Greek account of the Persian Wars - dating back more than three thousand years - describes a nearly <strong>identical</strong> <strong>scenario</strong>.</li>
<li>It’s a bit <strong>counterintuitive</strong> to think about the future in terms of the past.</li>
<li>I’ve learned an important trick: to develop foresight, you need to practice <strong>hindsight</strong>.</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/02/11/%E7%BB%83%E4%B9%A0%E7%BD%91%E7%AB%99/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Suria">
      <meta itemprop="description" content="我爱学习">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Suria_Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/02/11/%E7%BB%83%E4%B9%A0%E7%BD%91%E7%AB%99/" class="post-title-link" itemprop="url">练习网站</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-02-11 15:03:44" itemprop="dateCreated datePublished" datetime="2020-02-11T15:03:44+08:00">2020-02-11</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-05-16 16:45:41" itemprop="dateModified" datetime="2022-05-16T16:45:41+08:00">2022-05-16</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%94%B6%E8%97%8F/" itemprop="url" rel="index">
                    <span itemprop="name">收藏</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="git"><a href="#git" class="headerlink" title="git"></a>git</h3><p><a href="learngitbranching.js.org">练习git</a></p>
<h3 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h3><p><a href="https://regexone.com/" target="_blank" rel="noopener">RegexOne</a><br><img src="疑问.PNG" alt="Lesson11"></p>
<h3 id="练习SQL网站"><a href="#练习SQL网站" class="headerlink" title="练习SQL网站"></a>练习SQL网站</h3><p><a href="https://sqlzoo.net/" target="_blank" rel="noopener">SQLZOO</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/02/11/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Suria">
      <meta itemprop="description" content="我爱学习">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Suria_Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/02/11/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F1/" class="post-title-link" itemprop="url">操作系统概述</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-02-11 11:00:59" itemprop="dateCreated datePublished" datetime="2020-02-11T11:00:59+08:00">2020-02-11</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-02-13 11:19:08" itemprop="dateModified" datetime="2020-02-13T11:19:08+08:00">2020-02-13</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" itemprop="url" rel="index">
                    <span itemprop="name">操作系统</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="操作系统的概念"><a href="#操作系统的概念" class="headerlink" title="操作系统的概念"></a>操作系统的概念</h3><p><img src="step.PNG" alt="操作系统"><br>操作系统(Operating System, OS)是指控制和<strong>管理</strong>整个计算机系统的<strong>硬件和软件</strong>资源，并合理地组织和调度计算机的工作和资源的分配：以<strong>提供给用户和其他软件方便的接口和环境</strong>：它是计算机系统中最基本的<strong>系统软件</strong>。</p>
<h4 id="操作系统是系统资源的管理者。"><a href="#操作系统是系统资源的管理者。" class="headerlink" title="操作系统是系统资源的管理者。"></a>操作系统是系统资源的管理者。</h4><p><img src="c1.PNG" alt="作为系统的管理者"></p>
<h4 id="向上层提供方便易用的服务。"><a href="#向上层提供方便易用的服务。" class="headerlink" title="向上层提供方便易用的服务。"></a>向上层提供方便易用的服务。</h4><p>封装思想：操作系统把一些丑陋的硬件功能封装成简单易用的服务，使用户能更方便地使用计算机，用户无需关心底层硬件的原理，只需要对操作系统发出命令即可。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">服务</th>
<th style="text-align:center">解释</th>
<th style="text-align:center">例子</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">GUI 图形化用户接口(Graphical User Interface)</td>
<td style="text-align:center">用户可以使用形象的图形界面进行操作，而不再需要记忆复杂的命令、参数</td>
<td style="text-align:center">在Windows操作系统中，删除一个文件只需要把文件“拖拽”到回收站即可</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li>早期通过命令接口进行交互，命令接口分为两种。<br><strong>联机命令接口</strong> = <strong>交互式</strong>命令接口<br>例子(Windows系统)：win键+R；输入cmd,回车进入命令解释器；输入命令<br><strong>脱机命令接口</strong> = <strong>批处理</strong>命令接口<br>例子：搜索C盘中的*.bat文件，打开<br><img src="命令.PNG" alt="命令"><br>把一系列的命令罗列，根据文件中的命令一条条执行（相当于用户一次提出一堆的请求，系统跟着做一堆。）</li>
</ul>
<p><strong>程序接口</strong> ：可以在程序中进行<strong>系统调用</strong>来使用程序接口。普通用户不能直接使用程序接口，只能通过程序代码<strong>间接</strong>使用。</p>
<p>系统调用类似于函数调用，是应用程序请求操作系统服务的唯一方式。</p>
<p><img src="c2.PNG" alt="图示"></p>
<h4 id="最接近硬件的一层软件。"><a href="#最接近硬件的一层软件。" class="headerlink" title="最接近硬件的一层软件。"></a>最接近硬件的一层软件。</h4><ol>
<li>实现<strong>对硬件机器的拓展</strong>。</li>
<li>没有任何软件支持的计算机称为<strong>裸机</strong>。</li>
<li>通常把覆盖了软件的机器称为<strong>扩充机器</strong>，又称之<strong>虚拟机</strong>。<br>（Ctrl+Alt+Del）打开电脑任务管理器。</li>
</ol>
<p>补充知识：执行一个程序前<strong>需要将该程序放在内存中</strong>，才能被CPU处理。</p>
<h3 id="操作系统的特征"><a href="#操作系统的特征" class="headerlink" title="操作系统的特征"></a>操作系统的特征</h3><p>操作系统的四大特征是：<strong>并发</strong>，<strong>共享</strong>，<strong>虚拟</strong>，<strong>异步</strong>。其中<strong>并发</strong>和<strong>共享</strong>是两大最基本的特征，二者互为存在条件。</p>
<h4 id="并发"><a href="#并发" class="headerlink" title="并发"></a>并发</h4><p><strong>并发</strong>：指两个或多个事件在同一时间间隔内发生。这些事件<strong>宏观上是同时发生</strong>的，但是<strong>微观上是交替发生的</strong>。<br><strong>并行</strong>：指两个或多个事件在同一时刻同时发生。</p>
<p><strong>操作系统的并发性</strong>指计算机系统中“同时”运行着多个程序，这些程序宏观上看是同时运行着的，而微观上看是交替运行的。</p>
<h5 id="重要考点"><a href="#重要考点" class="headerlink" title="重要考点"></a>重要考点</h5><p><strong>单核CPU</strong>同一时刻只能执行<strong>一个程序</strong>，各个程序只能<strong>并发</strong>地执行<br><strong>多核CPU</strong>同一时刻可以同时执行<strong>多个程序</strong>，多个程序可以<strong>并行</strong>地执行</p>
<h4 id="共享"><a href="#共享" class="headerlink" title="共享"></a>共享</h4><p>两种资源共享方式：<strong>互斥共享方式</strong>、<strong>同时共享方式</strong>。<br><strong>互斥共享方式</strong>：系统中的某些资源，虽然可以提供给多个进程使用，但<strong>一个时间段内只允许一个进程访问该资源</strong>。<br><strong>同时共享方式</strong>：系统中的某些资源，<strong>允许一个时间段内有多个进程“同时”对它们进行访问</strong>。</p>
<ul>
<li><strong>并发性</strong>指计算机系统中同时存在着多个运行着的程序。</li>
<li><strong>共享性</strong>指系统中的资源可供内存中多个并发执行的进程共同使用。</li>
</ul>
<h4 id="虚拟"><a href="#虚拟" class="headerlink" title="虚拟"></a>虚拟</h4><p><strong>虚拟</strong>是指一个物理上的实体变为若干个逻辑上的对应物。物理实体（前者）是实际存在的，二逻辑上对应物（后者）是用户感受到的。<br><strong>虚拟技术</strong>分为<strong>空分复用技术（如虚拟存储器技术）</strong>和<strong>时分复用技术（如虚拟处理器）</strong>。<br>显然，如果失去了并发性，则一个时间段内系统中只需运行一到程序，那么就失去了实现虚拟性的意义。因此<strong>没有并发性，就谈不上虚拟性</strong>。</p>
<h4 id="异步"><a href="#异步" class="headerlink" title="异步"></a>异步</h4><p><strong>异步</strong>是指，再多道程序环境下，循序多个程序并发执行，但是由于资源有限，进程的执行不是一贯到底的，而是走走停停，以不可预知的速度向前推进，这就是进程的异步性。</p>
<h3 id="OS的发展与分类"><a href="#OS的发展与分类" class="headerlink" title="OS的发展与分类"></a>OS的发展与分类</h3><p><img src="OS的发展与分类.png" alt="OS的发展与分类"></p>
<p>要重点关注和理解各操作系统主要想解决的是什么问题，各自的优缺点。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">发展阶段</th>
<th style="text-align:center">主要想解决的问题</th>
<th style="text-align:center">主要优点</th>
<th style="text-align:center">主要缺点</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">手工操作阶段</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">用户独占全机，人机速度矛盾导致资源利用率极低。</td>
</tr>
<tr>
<td style="text-align:center">单道批处理系统</td>
<td style="text-align:center">机器计算速度快，但是利用率不高</td>
<td style="text-align:center">缓解了一定程度的人机速度矛盾，资源利用率有所提升</td>
<td style="text-align:center">内存中仅能有一道程序运行，只有该程序运行结束之后才能调入下一道程序。CPU有大量的时间是在空闲等待I/O完成。资源利用率依然很低。</td>
</tr>
<tr>
<td style="text-align:center">多道批处理系统</td>
<td style="text-align:center">提高资源利用率</td>
<td style="text-align:center">多道程序并发执行，共享计算机资源。资源利用率大幅提升，CPU和其他资源更能保持“忙碌”状态，系统吞吐量增大</td>
<td style="text-align:center">用户相应时间长，没有人机交互功能</td>
</tr>
<tr>
<td style="text-align:center">分时操作系统</td>
<td style="text-align:center">解决用户无法操作系统</td>
<td style="text-align:center">用户请求可以被及时响应，解决了人机交互问题</td>
<td style="text-align:center">不能优先处理一些紧急任务。操作系统对各个用户/作业都是完全公平的，循环地为每个作业服务一个时间片，不区分任务紧急性。</td>
</tr>
<tr>
<td style="text-align:center">实时操作系统</td>
<td style="text-align:center">让计算机优先处理紧急任务</td>
<td style="text-align:center">能够优先响应一些紧急任务，某些紧急任务不需时间片排队。</td>
</tr>
</tbody>
</table>
</div>
<h4 id="单道批处理系统"><a href="#单道批处理系统" class="headerlink" title="单道批处理系统"></a>单道批处理系统</h4><p>引入<strong>脱机输入/输出技术</strong>，并由<strong>监督程序</strong>负责控制作业的输入、输出。</p>
<h4 id="多道批处理系统"><a href="#多道批处理系统" class="headerlink" title="多道批处理系统"></a>多道批处理系统</h4><p>每次网内存中读入多道程序。<br>操作系统正式诞生，用于支持多道程序并发运行。</p>
<h4 id="分时操作系统法"><a href="#分时操作系统法" class="headerlink" title="分时操作系统法"></a>分时操作系统法</h4><p>计算机以<strong>时间片</strong>为单位<strong>轮流为各个用户/作业服务</strong>，各用户可通过终端与计算机进行交互。</p>
<h4 id="实时操作系统"><a href="#实时操作系统" class="headerlink" title="实时操作系统"></a>实时操作系统</h4><p>在实时操作系统的控制下，计算机系统接收到外部信号后及时进行处理，并且<strong>要在严格的时限内处理外事件</strong>。实时操作系统的主要特点是<strong>及时性和可靠性</strong>。<br><img src="实时.PNG" alt="实时操作系统"></p>
<h4 id="网络操作系统"><a href="#网络操作系统" class="headerlink" title="网络操作系统"></a>网络操作系统</h4><p>伴随计算机网络的发展而诞生，能把网络中各个计算机有机地结合起来，实现数据传送等功能，<strong>实现网络中各种资源的共享（如文件共享）和各台计算机之间的通信</strong>。</p>
<h4 id="分布式操作系统"><a href="#分布式操作系统" class="headerlink" title="分布式操作系统"></a>分布式操作系统</h4><p>主要特点是<strong>分布性和并行性</strong>。系统中的各台计算机地位相同，<strong>任何工作都可以分布在这些计算机上，由它们并行、协同完成这个任务</strong>。</p>
<h3 id="操作系统的运行机制"><a href="#操作系统的运行机制" class="headerlink" title="操作系统的运行机制"></a>操作系统的运行机制</h3><h4 id="基本概念："><a href="#基本概念：" class="headerlink" title="基本概念："></a>基本概念：</h4><p>“指令”指处理器（CPU）能识别、执行的最基本的命令。</p>
<p>应用程序VS内核程序<br>CPU有两种状态，“内核态”和“用户态”<br>处于内核态时，说明此时正在<strong>运行的是内核程序</strong>，此时<strong>可以执行特权指令</strong><br>处于用户态时，说明此时正在运行的是<strong>应用程序</strong>，此时<strong>只能执行非特权指令</strong></p>
<p>CPU中有一个寄存器<strong>程序状态字寄存器(PSW)</strong>，其中有个二进制位，1表示“内核态”，0表示“用户态”。</p>
<p>内核态=核心态=管态；用户态=目态</p>
<h4 id="内核态、用户态的切换"><a href="#内核态、用户态的切换" class="headerlink" title="内核态、用户态的切换"></a>内核态、用户态的切换</h4><p><strong>内核态-&gt;用户态</strong>：执行一条<strong>特权指令</strong>——<strong>修改PSW</strong>的标志位为“用户态”，这个动作意味着操作系统将主动让出CPU使用权。<br><strong>用户态-&gt;内核态</strong>：由“<strong>中断</strong>”引发，<strong>硬件自动完成变态过程</strong>，出发中断信号意味着操作系统将强行夺回CPU的使用权。<br>除了非法使用特权指令之外，还有很多事件会触发中断信号。一个共性是，<strong>但凡需要操作系统接入的地方，都会触发中断信号。</strong></p>
<p><img src="操作系统的运行机制.png" alt="操作系统的运行机制"></p>
<h3 id="中断和异常"><a href="#中断和异常" class="headerlink" title="中断和异常"></a>中断和异常</h3><p><img src="中断和异常.png" alt="中断和异常"></p>
<h4 id="中断的作用"><a href="#中断的作用" class="headerlink" title="中断的作用"></a>中断的作用</h4><p>“中断”会使CPU由用户态变为内核态，使操作系统重新夺回对CPU的控制权。<br>CPU上会运行两种程序，一种是<strong>操作系统内核程序</strong>(整个系统的管理者)，一种是<strong>应用程序</strong></p>
<h4 id="中断的类型"><a href="#中断的类型" class="headerlink" title="中断的类型"></a>中断的类型</h4><ul>
<li><p>内中断：与当前执行的指令<strong>有关</strong>，中断信号来源于CPU<strong>内部</strong>。</p>
</li>
<li><p>外中断：与当前执行的指令<strong>无关</strong>，中断信号来源于CPU<strong>外部</strong>。</p>
</li>
</ul>
<ol>
<li>时钟中断，时钟部件每个一个时间片会给CPU发送一个时钟中断信号。</li>
<li>I/O中断，由输入/输出设备发出的中断信号</li>
</ol>
<h4 id="中断机制的基本原理"><a href="#中断机制的基本原理" class="headerlink" title="中断机制的基本原理"></a>中断机制的基本原理</h4><p><strong>不同的中断信号，需要用不同的中断处理程序来处理</strong>。当CPU检测到中断信号后，会根据中断信号的类型去查询“<strong>中断向量表</strong>”，以此来找到相应的中断处理程序在内存中的存放位置。</p>
<p>中断处理程序一定是内核程序，需要运行在“内核态”。</p>
<h3 id="系统调用"><a href="#系统调用" class="headerlink" title="系统调用"></a>系统调用</h3><h4 id="什么是系统调用"><a href="#什么是系统调用" class="headerlink" title="什么是系统调用"></a>什么是系统调用</h4><p>操作系统作为用户和计算机硬件之间的借口，需要向上提供一些简单易用的服务。主要包括命令接口和程序接口。其中程序接口由一组<strong>系统调用</strong>组成。</p>
<p><strong>应用程序可以通过系统调用来请求获得操作系统内核的服务。</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">普通应用程序</th>
<th style="text-align:center">可直接进行系统调用，也可使用库函数。有的库函数涉及系统调用，有的不涉及</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">编程语言</td>
<td style="text-align:center">向上提供库函数。有时会将系统调用封装成库函数，以隐藏系统调用的一些细节，使程序员编程更加方便。</td>
</tr>
<tr>
<td style="text-align:center">操作系统</td>
<td style="text-align:center">向上提供系统调用，使上层程序能请求内核的服务。</td>
</tr>
</tbody>
</table>
</div>
<h4 id="什么功能要用到系统调用"><a href="#什么功能要用到系统调用" class="headerlink" title="什么功能要用到系统调用"></a>什么功能要用到系统调用</h4><p><img src="系统调用.PNG" alt="系统调用"></p>
<p>应用程序通过<strong>系统调用</strong>请求操作系统的服务。而系统中的各种共享资源都是由操作系统内核统一掌管，因此<strong>凡是与共享资源有关的操作（如存储分配、I/O操作、文件管理等），都必须通过系统调用的方式向操作系统内核提出服务请求</strong>，由操作系统内核代为完成。这样<strong>可以保证系统的稳定性和安全性</strong>，放置用户进行非法操作。</p>
<h5 id="系统调用过程"><a href="#系统调用过程" class="headerlink" title="系统调用过程"></a>系统调用过程</h5><p><img src="调用过程.PNG" alt="调用过程"></p>
<p>传递系统调用参数 -&gt; 执行陷入指令（<strong>用户态</strong>） -&gt; 执行响应内请求核程序处理系统调用（<strong>核心态</strong>）-&gt; 返回执行应用程序</p>
<p>注意：</p>
<ol>
<li><p><strong>陷入指令</strong>是在<strong>用户态</strong>执行的，执行陷入指令之后立刻引发一个<strong>内中断</strong>，使CPU<strong>进入核心态</strong>。</p>
</li>
<li><p><strong>发出系统调用请求</strong>是在<strong>用户态</strong>，而<strong>对系统调用的相应处理</strong>在<strong>核心态</strong>下进行。</p>
</li>
</ol>
<p>陷入指令 = trap指令 = 访管指令<br><img src="系统调用小结.png" alt="系统调用小结"></p>
<h3 id="操作系统的体系结构"><a href="#操作系统的体系结构" class="headerlink" title="操作系统的体系结构"></a>操作系统的体系结构</h3><p><img src="操作系统内核.PNG" alt="操作系统内核"></p>
<ul>
<li>原语是一种特殊的程序，具有原子性。也就是说，这段程序的运行必须一气呵成，不可被“中断”。</li>
</ul>
<p><strong>内核</strong>是操作系统最基本、最核心的部分。<br>实现操作系统内核功能的那些程序就是<strong>内核程序</strong>。<br><img src="操作系统内核2.PNG" alt="操作系统内核2"><br><img src="内核.PNG" alt="内核"></p>
<p>注意：<br>操作系统<strong>内核</strong>需要运行在<strong>内核态</strong><br>操作系统的<strong>非内核</strong>功能运行在<strong>用户态</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">名称</th>
<th style="text-align:center">解释</th>
<th style="text-align:center">优点</th>
<th style="text-align:center">缺点</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">大内核</td>
<td style="text-align:center">将操作系统的主要功能模块都作为系统内核，运行在核心态</td>
<td style="text-align:center">高性能</td>
<td style="text-align:center">内核代码庞大，结构混乱，难以维护</td>
</tr>
<tr>
<td style="text-align:center">微内核</td>
<td style="text-align:center">只把最基本的功能保留在内核</td>
<td style="text-align:center">内核功能少，结构清晰，方便维护</td>
<td style="text-align:center">需要频繁地在核心态和用户台之间切换，性能低</td>
</tr>
</tbody>
</table>
</div>
<p>典型的大内核/宏内核/单内核 操作系统：Linux、UNIX<br>典型的微内核操作系统：Windows NT</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

  </div>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Suria"
      src="/images/avatar.gif">
  <p class="site-author-name" itemprop="name">Suria</p>
  <div class="site-description" itemprop="description">我爱学习</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">22</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        <span id="jinrishici-sentence" style="text-align: center;">正在加载今日诗词....</span>
        <script src="https://sdk.jinrishici.com/v2/browser/jinrishici.js" charset="utf-8"></script>
        
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Suria</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v4.2.1
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">主题 – <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> v7.7.0
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/pjax/pjax.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>

  <script>
var pjax = new Pjax({
  selectors: [
    'head title',
    '#page-configurations',
    '.content-wrap',
    '.post-toc-wrap',
    '#pjax'
  ],
  switches: {
    '.post-toc-wrap': Pjax.switches.innerHTML
  },
  analytics: false,
  cacheBust: false,
  scrollTo : !CONFIG.bookmark.enable
});

window.addEventListener('pjax:success', () => {
  document.querySelectorAll('script[pjax], script#page-configurations, #pjax script').forEach(element => {
    var code = element.text || element.textContent || element.innerHTML || '';
    var parent = element.parentNode;
    parent.removeChild(element);
    var script = document.createElement('script');
    if (element.id) {
      script.id = element.id;
    }
    if (element.className) {
      script.className = element.className;
    }
    if (element.type) {
      script.type = element.type;
    }
    if (element.src) {
      script.src = element.src;
      // Force synchronous loading of peripheral JS.
      script.async = false;
    }
    if (element.getAttribute('pjax') !== null) {
      script.setAttribute('pjax', '');
    }
    if (code !== '') {
      script.appendChild(document.createTextNode(code));
    }
    parent.appendChild(script);
  });
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  NexT.utils.updateSidebarPosition();
});
</script>




    <div id="pjax">
  

  

  


    </div>
</body>
</html>
